CHANGES
=======

3.7.0
-----

* Set eus repositories if REG\_RELEASE is set
* Install last stable version of get-pip.py script
* simplify updating python versions in gentoo
* Add 'DIB\_UBUNTU\_MIRROR\_DISTS' to ubuntu-minimal
* Fix CentOS Stream 8 base repo in centos element
* Remove the deprecated ironic-agent element

3.6.0
-----

* add missing packages for python reinstall on gentoo
* Fix centos 8.3 partition image building error with element iscsi-boot
* Fix building error with element dracut-regenerate
* Enable dracut list installed modules
* docs: fix wrong key in the lvm sample configuration

3.5.0
-----

* Remove centos-repos package for Centos 8.3
* Install git-core instead of git on RH systems

3.4.0
-----

* simple-init: also remove en\* interfaces from the images
* Fix dynamic-login with grub2
* Run autoremove on post-install step
* Fix python-stow-versions
* Remove dib-block-device console entrypoint
* Remove entry-point for element-info
* Add support for vlan interfaces in dhcp-all-interfaces.sh
* yum-minimal: Add centos-stream-repos package for centos-8-stream
* Allow processing 'focal' ubuntu release in lvm
* Remove the unused coding style modules
* Add Python3 Wallaby unit tests
* Ensure yum-utils is installed in epel element
* Fix runtime error if DIB\_DNF\_MODULE\_STREAMS is not set
* Disable growpart in cloud-init-disable-resizefs
* Remove unused fedora-30 job
* Test opensuse 15 builds with 15.2
* Remove install unnecessary package
* Revert "Avoid disabling rhel-7-server-rh-common-rpms"

3.3.1
-----

* Rename duplicating 10-debian-minimal.bash

3.3.0
-----

* rhel-common: Provide method to select module streams
* Install gzip instead of busybox-gzip on suse
* Install grep before busybox on suse distros
* bootloader: remove dangling grubenv links
* Move centos python3 installation after RHEL subscription
* Copy apt gpg keys directly into trusted.gpg.d
* Make iscsi-boot element support centos 8
* update various gentoo bits

3.2.1
-----

* Revert "source-repositories: git is a build-only dependency"

3.2.0
-----

* update gentoo to allow building arm64 images
* Makes EFI images bootable by bios
* Fedora 32 support
* Do not install python2 packages in ubuntu focal
* Update name of ipa job
* Handle NetworkManager for dhcp-all-interfaces
* source-repositories: git is a build-only dependency
* Add support for CentOS 8 Stream cloud image
* Remove glance-registry
* Deprecate dib-python; remove from in-tree elements
* Pre-install python3 for CentOS
* Update the tox minversion parameter
* Adds gnupg2 for apt-keys in ubuntu-minimal
* Support non-x86\_64 DIB\_DISTRIBUTION\_MIRROR variable for CentOS 7
* Fixes DIB\_IPA\_CERT certificate copy issue
* add openrc init system support to serial console element
* update gentoo-releng gpg key
* Fix DIB scripts python version
* Switch from unittest2 compat methods to Python 3.x methods
* Install yum and yum-utils on Red Hat family hosts
* Revert "Make ipa centos8 job non-voting"
* Disable all enabled epel repos in CentOS8
* Make ipa centos8 job non-voting
* add musl profile to gentoo
* Download latest CentOS cloud image
* Add support for CentOS 8 Stream

3.1.0
-----

* add more python selections to gentoo
* update grub cmdline to current kernel parameters
* Stop bringing the test environment into the mocks
* Remove virtualenv activation
* Add .eggs to gitignore
* Switch to newer openstackdocstheme and reno versions
* Use kpartx option to update partition mappings
* Do not fail in a venv when activate\_this.py is not found
* Fix yumdownloader cache dir
* Update readme to clarify an ubuntu bionic image is built
* Drop six usage
* Cleanup py27 and docs support
* Add back pep8 and tarball jobs

3.0.0
-----

* Drop support for python2

2.38.0
------

* Prepare to drop Python 2 support

2.37.3
------

* Revert "dib-lint: use yamllint to parse YAML files"
* use stage3 instead of stage4 for gentoo builds
* Pre-install xz package in opensuse chroot
* Add dependency on yamllint

2.37.2
------

* Revert "Revert "ubuntu-minimal : only install 16.04 HWE kernel on xenial""
* package-installs : allow a list of parameters
* dib-lint: use yamllint to parse YAML files

2.37.1
------

* Revert "ubuntu-minimal : only install 16.04 HWE kernel on xenial"

2.37.0
------

* ubuntu-minimal: Add Ubuntu Focal test build
* ubuntu-minimal : only install 16.04 HWE kernel on xenial
* ubuntu-minimal: fix HWE install for focal
* package-installs: allow when filter to be a list
* block device: update variable name
* functests: use ensure-virtualenv

2.36.0
------

* Add sibling container builds to experimental queue
* Add a focal test
* Restore SUSE tests to gate
* Switch functional tests to containers
* Bionic functional tests should be voting
* pip-and-virtualenv : fix fedora 30 install
* yum-minimal: strip env vars in chroot calls
* Fix args to debuntu functional tests
* Remove Trusty testing
* pip-and-virtualenv: drop f31 & tumbleweed, rework suse 15 install
* Remove Babel and any signs of translations
* Add centos aarch64 tests
* Do not try to use MBR on AArch64
* Make ipa centos8 dib job voting
* opensuse: fix python 2.x install
* Debuntu: add apt-transport-https
* centos 8 image build: fix mirror
* run\_functests: handle build without tar

2.35.0
------

* Add Fedora 31 support and test jobs
* Mellanox element: removed ibutils,libibcm,libmlx4-dev
* Use rpm -e instead of dnf for cleaning old kernels
* Add python-stow-versions element
* Add support for build-only packages
* bindep: remove lsb-release

2.34.1
------

* Remove hacking from requirements

2.34.0
------

* Add ensure-venv element, install glean with it
* Remove Fedora 29 job
* Do not include efibootmgr and efivars for ppc architectures
* Change tgt pkg-map to target-restore CentOS/RHEL-8
* Uncap hacking
* Add CentOS 8 support
* fix iscsi-boot element exiting build even if dracut-regenerate used
* Add efi packages for ironic-agent
* Allow python3 to be used in Debian
* Fix cache-url -f
* Add ironic jobs to the CI
* dib-lint: test elements have README.rst file
* Enable possibility to select HWE kernel for Ubuntu minimal
* Remove trusty jobs

2.33.0
------

* Fix Yum repositories and GPG keys for CentOS 8.1
* allow building of Gentoo images for non-systemd profiles
* modprobe.d: use $TMP\_MOUNT\_PATH
* Add arm64 based functional test
* Install rng-tools in Red Hat family distro images
* Update bindep for RHEL/CentOS 8

2.32.0
------

* Fix wrong URL in ironic-agent element
* Set correct python version for non-chroot scripts
* Work around Trusty ext4 metadata\_csum errors on Bionic
* Drop Xenial from functional test

2.31.0
------

* Fix regex for mirror URL substitution
* Install ndisc6 package in element script
* Make sure DIB\_DEBUG\_TRACE has a default value
* Allow zypper repos to be overrideable
* Fix login.defs config for tumbleweed
* Break retry loop on success in dhcp-all-interfaces

2.30.0
------

* Stop installing pydistutils.cfg
* Update bindep.txt for some missing dependencies
* Only wait for checksum processes
* Introduce manual setting of DIB\_INIT\_SYSTEM
* Add output for mis-configured element scripts
* Add grub-efi-x86\_64 pkg-map
* Add IPv6 support in dhcp-all-interfaces
* Remove unused job
* Adds support for GPG keyring
* vhd-util : note on Xen/RAX images

2.29.1
------

* Revert "Drop vhdutil dependency, use qemu-img"

2.29.0
------

* Revert "Pause Fedora jobs"
* Deprecates the existing "ironic-agent" element in DIB
* pip-and-virtualenv: include python3-venv for Debuntu
* Ensure nouveau is blacklisted in initramfs too
* Pause Fedora jobs
* Fix syntax error in selinux-fixfiles-restore
* Drop vhdutil dependency, use qemu-img
* Add security suite name override in debian-minimal

2.28.2
------


2.28.1
------

* centos7; use numeric DIB\_RELEASE
* Temporarily disable Fedora 30 build jobs
* Remove RA solicit delay
* Blacklist sphinx 2.1.0 (autodoc bug)

2.28.0
------

* CentOS 8 minimal testing and support
* Add NetworkManager and dhcp-client for CentOS 8
* Fix networking for CentOS 8
* simple-init: Use wrappers to call pip for glean install
* simple-init: default to NetworkManager for CentOS and Fedora
* bootloader: make serial console configurable
* Add security mirror override for debian-minimal
* pip-and-virtualenv : deprecate source for CentOS 8, new variables
* yum-minimal: Don't install yum, install libcurl
* Use $YUM instead of direct calls in more places
* Add environment switch for centos8 to use dnf
* Update redhat-common pkg-map for centos 8
* Update locales for Centos 8
* dib-python : handle centos 8
* yum-minimal : update mirrors for Centos 8
* Remove "failovermethod=priority" for Fedora (dnf)

2.27.2
------

* Install Python 3 libselinux packages for Fedora
* Ensure machine-id is not included in images
* Update gentoo test to current system profile

2.27.1
------

* Revert "Fixed use of flake8"
* Only install doc requirements if needed
* Use x86 architeture specific grub2 packages for RHEL
* Move doc related modules to doc/requirements.txt

2.27.0
------

* Add fedora-30 testing to gate
* Uninstall linux-firmware and linux-firmware-whence
* Fixed use of flake8
* Rename openSUSE 15.1 testing to 15
* Allow configurable gzip binary name
* Do not delete cracklib from /usr/share
* Fedora 30 functional and boot tests

2.26.1
------

* zypper-minimal: Don't get confused by etc/resolv.conf symlink

2.26.0
------

* simple-init: add configurable RA timeout with network-manager
* update gentoo systemd profile to 17.1 from 17.0
* rpm-distro: ensure we selinux relabel underlying directories
* Allow extra repositories to be added to images
* yum-minimal: install fedora-release-cloud
* block-device-efi : expand disk size calculation
* Don't show all elements found
* dracut-regenerate: catch failures and exit code
* Fixes packages for arm64 bootloader
* Fixes DIB\_DISTRIBUTION\_MIRROR\_UBUNTU\_IGNORE matching when empty
* Fix the pypi element for multiple mirror URLs
* Stop regex warning
* Create /etc/machine-id for RHEL images
* fix comments / spelling errors in gentoo element
* support alternate portage directories
* journal-to-console: element to send systemd journal to console
* Enable nodepool debugging for functional tests
* update version of open-iscsi that is installed on musl
* Add a nodepool job based on releases

2.25.0
------

* Only enable dbus-daemon on fedora-29
* Set router solicitation delay with using NM
* [RHEL-8] Set \_clear\_old\_files=0 in install-pip element
* disable autounmask for emerge
* ironic-agent: Use targetcli & python3-devel on rhel8
* Mailing lists change openstack-dev to openstack-discuss
* install gnupg2 by default in debian-minimal
* set default sources conf for buster as it now has a release
* Cleanup: remove useless statement
* Enable nodepool testing for opensuse 15.1
* Replace nodepool func jobs
* Move existing Zuul project config to projects.yaml
* Move Zuul config in-repo
* Add DIB\_UBUNTU\_KERNEL to ubuntu-minimal
* Sync Sphinx requirement

2.24.0
------

* Update test coverage for openSUSE/-minimal to 15.1
* Remove the rhel 8 check for xfs
* debootstrap: make default network interface names configurable
* Move pypi to dib-python
* ironic-agent: install mdadm on the ramdisk
* Use architecture-specific grub2 RPMs on RHEL8
* Increase size of EFI system partition (again)
* bindep: exclude zypper from debian-stretch
* Makes image caching more resilient
* fail early when lates build information can not be fetched
* Deprecate rhel7 in favor of rhel
* Add version-less RHEL element for RHEL7 and RHEL8
* allow the use of non-bzip compressed stages for building gentoo
* Replace git.openstack.org URLs with opendev.org URLs

2.23.0
------

* Use megabyte granularity for image extra space
* bindep: add sudo
* Update test coverage for openSUSE/-minimal to 15.0
* Use fedora-release-common for fedora 30+

2.22.0
------

* Only enable dbus-daemon for fedora-29 and below
* Switch simple-init to support python3
* openssh-server: harden sshd config
* Fix broken requirements url
* Support defining the free space in the image
* Replace git.openstack.org URLs with opendev.org URLs
* Allow specification of filesystem journal size
* Document the various global filesystem options
* Update to https:// version of \*openstack.org urls
* OpenDev Migration Patch
* Constraint networkx to <2.3 for Python 2
* Fix Fedora aarch64 image location
* debian-minimal buster support
* Also use selinuxenabled to check selinux status

2.21.0
------

* Replace openstack.org git:// URLs with https://
* Replace openstack.org git:// URLs with https://
* Minor clarifications in centos7 element docs
* Unmount internal mounts on finalise errors
* Add DIB\_APT\_MINIMAL\_CREATE\_INTERFACES toggle
* [lvm] Add Ubuntu bionic as supported distro

2.20.3
------

* Update gentoo-releng gpg key

2.20.2
------

* Add option to skip update packages
* Fix opensuse 42.3 pip-and-virtualenv
* Keep git after ironic-agent post
* set rhel minor release

2.20.1
------

* pip-and-virtualenv: handle centos image-based builds

2.20.0
------

* pip-and-virtualenv : only remove system files on centos
* Enable dbus-broker for Fedora 29
* fix systemd import-tar for gentoo
* Add python3-setuptools to bindep.txt for Fedora
* support cracklib in pam for Gentoo's musl profile
* Make sure $TMP\_BUILD\_DIR/mnt is owned by root
* [Configuration] Add missing py37 and corrected default envlist
* [Core] Change openstack-dev to openstack-discuss

2.19.0
------

* change to python36 for gentoo
* update spelling errors
* source-repositories: Replace documentation http with https links
* Delete the duplicate words in  50-zipl
* Change phase to check for dracut-regenerate in iscsi-boot
* Add policycoreutils-python-utils to bindep
* Use template for lower-constraints
* simple-init: allow for NetworkManager support
* package-installs: provide for skip from env var
* Revert "Make tripleo-buildimage-overcloud-full-centos-7 non-voting"
* Fix unit tests for elements
* Capture ramdisk test run logs
* Make tripleo-buildimage-overcloud-full-centos-7 non-voting
* Only cap pylint for python2
* Fix a typo in the help message of disk-image-create
* Add missing ws separator between words
* Add an element to configure iBFT network interfaces
* move selinux-permissive configure to pre-install phase
* Update to Fedora 29
* fix some errors for ill-syntax in  README.rst
* delete the duplicate words in  package-outside-debootstrap-ac93e9ce991819f1.yaml
* Increase size of EFI system partition

2.18.0
------

* Add systemd-containers functional tests
* Add ubuntu-systemd-container operating-system element
* Remove python3 legacy jobs
* Remove legacy playbooks
* Native zuulv3 tests
* Move several packages to bindep.txt
* Turn on quiet mode when logfile specified
* Fix epel repo rewrite, add to testing
* Add a post-root.d phase
* Fix DIB\_DISTRIBUTION\_MIRROR\_UBUNTU\_IGNORE regex typo
* Add support for Fedora 28, remove EOL Fedora 26
* Set EPEL mirror during openstack-ci-mirrors
* ubuntu: Add options to ignore mirror components and use insecure repos
* simplify overlay logic for Gentoo
* simplify python3.6 selection on gentoo
* Turn down pkg-map and hook copy tracing output
* enable caching for gentoo builds
* Add a pre-finalise.d phase
* Minor documentation updates
* Allow debootstrap to cleanup without a kernel
* fix a typo
* Fail build due to missing kauditd only when SELinux is enabled
* Fix DIB ubuntu-minimal running on bionic (18.04)
* ubuntu-common: Update default DIB\_RELEASE to bionic
* Remove redundant sources change/update
* Move common ubuntu environment setting to ubuntu-common element

2.17.0
------

* Only append DIB\_BOOTLOADER\_DEFAULT\_CMDLINE to default grub entry
* Fix CentOS image build failure when dib runs on system where audit disabled
* Fix bootloader packages for aarch64
* Replace assertRaisesRegexp with assertRaisesRegex
* Remove unsued opensuse jobs
* Remove legacy-opensuse-423 nodeset
* Install ca-certificate with redhat-common
* Add netcat to redhat-common map-packages
* Fix typo in installation.rst
* Only detach device if all partitions have been cleaned
* Move LVM cleanup phase into cleanup
* Add DIB element to blacklist nouveau
* modprobe DIB\_MODPROBE\_BLACKLIST should be optional
* cache-url requires curl

2.16.0
------

* Update pylint to 1.7.6, uncap networkx
* Fix for proper LVM support
* Update developing\_elements
* Add expected semicolons for dhclient.conf
* fix tox python3 overrides
* Add keyring if supplied
* Call kpartx remove in umount, not cleanup
* Move localloop to exec\_sudo
* Add new modprobe element
* block-device lvm: fix umount phase
* Don't quote names with sgdisk
* better handle existing keywords files/directories
* Add iscsi-boot element for CentOS images
* Remove redundant word
* Fix /etc/network/interfaces file contents
* Convert labels to upper case
* Fix bootloader for efi on rhel systems
* Don't run setfiles on /boot/efi
* Add iscsi-boot element
* Fix bootloader packages for rhel

2.15.1
------

* elements: pip-and-virtualenv: Handle openSUSE Leap 15
* Added release notes for Change 568697

2.15.0
------

* Don't install zypper on bionic
* Rename output log files
* Add log directory option to functional tests
* Save and close stdout on exit
* Reduce path length in PS4 for debug
* Use surrogateescape with outfilter.py
* Allow to rebuild arbitrary images
* Replace the ubuntu-minimal trusty test with a bionic one
* Remove non-maintained ubuntu-core element
* elements: zypper-minimal: Add support for openSUSE Leap 15.X
* Add Ubuntu 18.04 support
*   IPA requires iptables
* Remove duplicate GRUB command line entry
* rpm-distro: set the contentdir yum var
* Trivial: update url to new url
* Fixes add-apt-keys in dpkg element
* Add pip cache cleanup to pip-and-virtualenv
* Install sudo on Gentoo images by deault
* pip-and-virtualenv: fix install-pip when centos-release-openstack is enabled
* Stop using slave\_scripts/install-distro-packages.sh

2.14.1
------

* Fix epel element for centos-minimal

2.14.0
------

* Revert "debootstrap: Call update-initramfs explicitly"
* Remove installed packages before pip install
* allow building non-gentoo images on gentoo hosts

2.13.0
------

* Don't only install python3-virtualenv
* Don't use -e to test for what might be broken symlink
* add lower-constraints job
* Set the dhclient timeout to match DIB\_DHCP\_TIMEOUT
* Formalise saving of /etc/resolv.conf
* Restore tracing on exit points of block\_device\_create\_config\_file
* delete unused module
* debootstrap: Call update-initramfs explicitly
* Change the GENTOO\_PORTAGE\_CLEANUP variable default
* Fix element-provides in debian element
* Revert "Remove tripleo jobs"
* enable systemd profile for Gentoo
* install sudo in the devuser element

2.12.1
------

* Fix default partition type
* Remove tripleo jobs
* remove portage git directory

2.12.0
------

* Updated from global requirements
* Updated from global requirements
* proliant-tools: add net-tools package to support hpsum utility
* Make the build reproducible
* Updated from global requirements
* secondary architectures use different url
* Fix encoding issue during processing output
* Fix for rhel7 iso image creation
* Fix for passing user defined value for satellite cert for rhel-common
* arm64: use HWE kernel and fix console
* Choose appropriate bootloader for block-device
* Add block-device defaults
* Fail if two elements provide the same thing
* GPT partitioning support
* update Gentoo Hardened profiles (now stable)
* Checking link status according to DIB\_DHCP\_TIMEOUT

2.11.0
------

* Install systemd earlier for Ubuntu Bionic
* update gentoo vars for new profile and python
* Fix typo doc
* Zuul: Remove project name
* Remove some redundant indents
* Set default label for XFS disks
* Don't install dmidecode on Fedora ppc64le
* Updated from global requirements
* Add support for Fedora 27, remove EOL Fedora 25
* Don't fstrim vfat partitions
* Remove RH1 check OVB jobs from configuration
* upgrade pip before using -c option
* Correct link address
* Updated from global requirements
* Add SUSE Mapping

2.10.1
------

* Revert "Dont install python-pip for py3k"

2.10.0
------

* Adding mapping for SUSE package
* Check source-repository-\* files for trailing newline
* Update Fedora defaults to 27
* ironic-agent: don't remove make
* Remove architecture rules on lshw dependency in ironic-agent
* zypper: fix package removal
* Avoid tox\_install.sh for constraints support
* Fix wrong epel-release-7\* package URL
* Add the groundwork for musl profile support
* Enable support for Gentoo overlays
* Pre-install curl
* Install fedora-gpg-keys for F27
* Make preinstall.d more deterministic
* Use EPEL for debootstrap on centos
* Fix /dev/pts mount options handling
* Make python changes more reliable
* zuul: add tripleo jobs
* Remove setting of version/release from releasenotes
* elements: zypper-minimal: Refresh repositories where necessary
* Updated from global requirements
* elements: Respect devpts mount options
* Dont install python-pip for py3k
* Enable gentoo in pip-and-virtualenv element
* zypper-minimal: Set default locale env to C.UTF-8
* Add zipl element as s390x architecture bootloader
* diskimage\_builder: lib: common-functions: Fix options for devpts mount
* Zuul: add file extension to playbook path
* Move to a common lock-file directory
* Create rescue user on ironic agent
* Use -t devpts for /dev/pts mounts
* Dont install python-virtualenv for py3k in deb
* Import legacy playbooks
* Add debian minimal requirement for arm64
* Fix grub2 dependency on arm64
* Remove dd from LVM element
* Update Gentoo element for element changes
* Update proliant-tools to support Gen10 Proliant servers
* Move fstrim to block device layer
* Add Constraints support

2.9.0
-----

* Revert "Support networkx 2.0"
* Support networkx 2.0
* Add initramfs-tools for ubuntu-minimal
* Actually sort mount-point list
* Change to install a package in 'proliant-tools'
* Create /etc/machine-id for fedora
* Use latest Fedora .qcow URL
* Updated from global requirements
* Add missing package dependency for yaml
* Mention the need of dracut-regenerate element
* Move the ordering of the dracut regenerate command
* Remove nested quotes from TAROPTS
* Use [[ for =~ matches
* Fix cylical systemd config for dhcp-all-interfaces
* Updated from global requirements
* LVM support for dib-block-device
* Increase timeout for removal
* Add netbase to ensure /etc/protocols is placed for debian
* Add kpartx as a requirement to build images
* Clear up debian element documentation
* Clear /etc/machine-id to avoid duplicate machine-ids
* Bump fedora/fedora-minimal DIB\_RELEASE 26
* Updated from global requirements

2.8.0
-----

* Move selinux packages to redhat-common
* Allow users to specify partition type in the MBR PTE

2.7.2
-----

* Use SELinuxfs to check selinux status
* Switch openSUSE to 42.3 by default

2.7.1
-----

* elements: zypper-minimal: Install tar package

2.7.0
-----

* Move setfiles to outside chroot with runcon
* zypper: Clean caches and don't cache packages locally
* doc: supported\_distros: Add openSUSE Leap 42.2/3 and Tumbleweed
* Add -m flag to setfiles for Fedora 26
* yum-minimal: pre-install coreutils
* Force install during pip-and-virtualenv
* Fix latest-limit command line
* Updated from global requirements
* opensuse-minimal: install glibc-locale
* elements: openstack-ci-mirrors: Use openSUSE mirrors for gating jobs
* Update the documentation link for doc migration
* Remove DIB\_[DISTRO]\_DISTRIBUTION\_MIRROR
* doc: Switch from oslosphinx to openstackdocstheme
* The correct option for label name in fat and vfat is '-n'
* zypper-minimal: No point in preserving the environment here
* Remove additional Bumblebee repository for opensuse element
* Enable console during kernel boot on Power
* fix readme.rst to reflect correct environment variable
* Add symlink test for resolv.conf restore
* pip-and-virtualenv: Install python3 on openSUSE
* Support for Cloud Images on ppc64le for rhel7 and centos7
* bindep.txt: Exclude gnupg2 package on openSUSE
* Avoid hanging endlessly on unreachable cache urls
* elements: pip-and-virtualenv: Use common packages for openSUSE
* Remove mirror create
* Remove centos and rhel elements
* Updated from global requirements
* dib-lint: Ignore editor temp files for linting run
* As far as block-device layout is concerned ppc64le == ppc64el
* [doc] Add some notes about PowerPC Architecture names
* Move image download tests to default skip
* Fix mkfs use wrong label option for vfat
* Use the dib python to do cleanup

2.6.1
-----

* On suse the python2 dev package is python-devel
* Move ironic-agent test to fedora-minimal
* Start at using CI mirrors for fedora/centos
* Use local mirror for ubuntu-minimal jobs
* Move apt-sources to ubuntu-minimal / move debian to skip list
* Sync after writing partition table
* Install systemd earlier for Stretch
* Fix mkfs failure when loop device is not ready
* Add timestamp output filter

2.6.0
-----

* PPC bootloader; install to boot partition
* Pass all blockdevices to bootloader
* Move rollback into NodeBase object
* Move global mount tracking into state
* Use global state to check for duplicate fs labels
* Remove 'state' argument from later cmd\_\* calls
* Add state to NodeBase class
* Use picked nodes for later cmd\_\* calls
* Don't make image & loopdev functions static
* Add env var to dump config graph
* Use class as super() argument
* Move ppc block-device default to right $ARCH
* Update tracing in block\_device\_create\_config\_file
* Add a keep-output flag for functional tests
* Updated from global requirements
* Pad state dump
* Use https in docs links
* Add missing test requirements, fixup pylint env
* Move "functional" unit tests under block-device
* Replace assertRaisesRegexp with assertRaisesRegex
* Adjust package mapping for SUSE family
* Drop support for Ubuntu precise
* Adjust package installation for openSUSE
* Trivial fix typos
* Make BlockDeviceState implement a dict
* Refactor mount-point sorting
* Remove dracut-network element
* Remove ccache
* Decode string to bytes in dracut-regenerate
* Test openSUSE 42.2/42.3 image builds
* Add state object, rename "results", add unit tests
* allow uninstalls to fail on gentoo
* Refactor: use lazy logging
* Add pylint with indent check

2.5.0
-----

* Disable recommended package installations for zypper-minimal
* Move create\_graph into config.py
* Create and use plugin/node abstract classes
* Use networkx for digraph
* Add a more generic tree->graph parser
* Adding unit testing for configuration
* drop deprecated map-services/packages from zypper element
* Produce API documentation

2.4.1
-----

* Set manifest permissions in the image
* dhcp-all-interfaces.sh - Add support for InfiniBand interface DHCP
* Move parts of Partition creation into object
* Split partition into it's own file
* Move exception to it's own file (again)
* Add weights to digraph
* Switch debian to deb.debian.org
* Remove use of 'which'
* Add dracut-regenerate elements
* Remove \_config\_error thrower
* Set manifests to mode 600 and owner root
* Use fakelogger in test\_blockdevice\_mbr
* Remove PluginBase/NodePluginBase class
* Only unmount directories that are mounted
* Updated from global requirements
* Apply setfiles on all mountpoints
* Updated from global requirements

2.4.0
-----

* Refactor: block-device filesystem creation, mount and fstab
* Remove args from BlockDevice() init
* Move to subparsers
* Clear \_\_init\_\_.py from cmd move
* Take --params from environment
* Create BlockDeviceCmd object
* Move YAML parsing into cmd.py; default to env
* Move dib-block-device implementation into cmd.py
* Move blockdevicesetupexception.py into blockdevice.py
* Remove unused val\_else\_none
* block\_device: reorder imports
* exec\_sudo: check cmd for str, log output and raise exception
* Use check\_output
* Add sort\_mount\_point method
* Refactor documentation on image creation
* Add a test to validate we can build debian vms
* Introduce exec\_sudo command
* Fix py3 error in block-device
* Refactor block-device base functions
* Add bzip2 to test install
* Add refactor of tree-like vs graph
* Set LC\_ALL in disk-image-create
* Improve documentation for image creation
* Refactor block\_device: isolate the getval call
* Refactor block\_device: passing command line parameters
* Make Gentoo package updates work more often

2.3.3
-----

* Add yum-utils as EPEL dependency
* Turn off strict\_id mode for Ec2 datasource
* Clean up dib-python symlink
* Updated from global requirements

2.3.2
-----

* Skip python3-virtualenv on <= trusty

2.3.1
-----

* pip-and-virtualenv : install python2 & 3, and default to 2
* Install pip with python interpreter

2.3.0
-----

* Move do\_extra\_package\_install to run in install phase
* Clean out apt index caches at end of image build
* Updated from global requirements
* Unify and fix doc of several Debian and Ubuntu elements
* Fix package-installs-v2 output
* Basic logging for package-installs-squash
* Use DIB\_PYTHON\_EXEC to run commands
* Fix typo in pip-and-virtualenv
* Ignore missing path in unmount\_dir
* Run dib-run-parts out of /tmp
* Don't provide dib-run-parts
* Add flag to disable EPEL
* Fix code-block in README of rhel7 element
* Fix opensuse-minimal element on non-SUSE hosts

2.2.0
-----

* Have simple-init enable network.service
* Use stevedore for plugin config of block device
* Use correct Ubuntu distro url on non-x86 arches
* Typo fix: curent => current
* functests: skip qcow2 generically but add specific test
* Add default PPC block-device layout
* Capture output in \_exec\_sudo
* Adding aarch64 support for CentOS7
* Fix typo in CMDLINE env var for bootloader

2.1.0
-----

* Allow ELEMENTS\_DIR to be configurable
* Use sphinx warning-is-error
* Updated from global requirements
* squash-package-install to use the correct python
* Make our virtualenv source py3 safe
* blockdevice.py: python3 fixes
* Fix dib-init-system for Debian Jessie and Debian Stretch
* Replace architecture-emulation-binaries with qemu-debootstrap

2.0.0
-----

* Add 2.0.0 release notes
* Send custom parameters in bootloader to GRUB\_CMDLINE

2.0.0rc2
--------

* Run indent checks in diskimage\_builder/lib
* Use OrderedDict for partitions instead of simple dictionary
* Refactor: block-device partitioning cleanup

1.28.0
------

* [suse] Handle pip-and-virtualenv install for opensuse
* pip-and-virtualenv: also handle rhel distros
* [suse] remove --no-confirm from zypper invocation
* gentoo: do not manually clean /tmp
* Fix requirements update
* Fix #1627402: fix grub2 element for ubuntu xenial

2.0.0rc1
--------

* Semi-automatic doc generation of element dependency
* Fix up doc errors
* Fix up element doc generation
* python-brickclient: accommodate python2/3 changes
* Move Ubuntu specific use\_tempaddr setting to ubuntu-common element
* Fix typo in README.rst
* yum/install-packages output cleanup
* Preinstall pyOpenSSL
* Target map-packages deprecation message
* Turn down some low-value tracing output
* Move generation of dib\_[environment|args] to manifest element
* Check return of \_load\_state
* block-device: change top level config from dict to list

1.27.0
------

* Handle blank lines in element-deps
* Don't run unit tests from run\_functests.sh
* Git ignore coverage stuff
* Refactor: block-device handling (partitioning)
* Add DIB\_IPA\_COMPRESS\_CMD option
* ironic-agent: use /sbin for modprobe
* move post-install.d to finalize.d
* Bump fedora release to 25
* Fix dhcp-all-interfaces for ubuntu-minimal xenial
* Use strings in package-installs follow output
* Don't set base element path in run\_functests.sh
* Fix coverage report
* Use %i instead of %I in dhcp-interface@.service
* Remove hardcoded components
* Set grub device in /etc/default/grub
* Replace yaml.load() with yaml.safe\_load()
* Unify tidy up logs in lib/img-functions
* Also check bin/ for tabs
* Handle failure of carrier check in dhcp-all-interfaces.sh
* Fix Gentoo builds on Ubuntu 16.04 Xenial hosts
* Make DHCP timeout configurable
* Run dhcp-interface@.service after network.target
* Update component docs to refer to ironic-agent
* Change "Openstack" to "OpenStack"
* update pkg-map entries for python3

1.26.1
------

* Revert "Revert Xenial to Python 2"
* Dont run with VIRTUAL\_ENV set
* dib-lint: python3 compatibility fixes
* H803 hacking have been deprecated
* Update documented default Ubuntu version

1.26.0
------

* Revert Xenial to Python 2
* debootstrap: avoid duplicate network configuration
* Start func testing on centos-minimal again
* Increase func testing for ubuntu-minimal element
* Remove yum chroot caching
* Set grub timeout default
* Switch py34 tests to py35
* Add get\_elements; preserve backwards compat for expand\_dependencies
* Update our package classifiers
* set default DIB\_PYTHON\_VERSION=2 for rhel7
* Add squashfs output image format

1.25.2
------

* Add output image format tgz support
* Install dracut-generic-config package
* Switch to openSUSE Leap 42.2 release by default
* FIx the DIB\_CLOUD\_INIT\_ALLOW\_SSH\_PWAUTH variable name in README file

1.25.1
------

* Add ubuntu-precise support to dib-python
* Fix bootloader element on ppc
* Create ubuntu/fedora test for pip-and-virtualenv

1.25.0
------

* Recreate initramfs within loopback image
* Pip install as 10- incompatible with 05-heat-cfntools
* Support sysv init system used by Debian Wheezy
* elements: dib-python: Add python2 as the default version for openSUSE
* Fix pip-and-virtualenv to work with python3
* Allow package-installs to parse DIB\_PYTHON\_VERSION
* Add install-types as pip-and-virtualenv dep
* Disable centos6 testing
* Move pip-and-virtualenv source install to 10-
* Speed up chroot checking loop
* Don't set the executable bit on dhcp-interface@.service
* Make dib-python use the default python for distro
* Allow disto-specific mirror settings
* Put MKFS\_OPTS after filesystem type
* Update hpssacli to ssacli in proliant-tools element
* Update sysctl-write-value to do conflict checking
* Delete deprecated Hacking in tox.ini
* elements: Drop executable bits from environment files

1.24.0
------

* Fix --version display
* DIB element to support cinder local attach/detach functionality
* Perform package install outside of debootstrap
* Improve checksum performance for images
* Activate virtualenv in disk-image-create
* elements: zypper-minimal: Add ca-certificates-mozilla package
* Changed author and author-email

1.23.0
------


1.22.2
------

* yum-minimal: add systemd to initial install
* Catch errors in DIB\_INIT\_SYSTEM export
* Replace six.iteritems() with .items()
* Trace package install in package-installs-v2
* Special case dib-python in dib-lint
* elements: Drop unneeded DIB\_INIT\_SYSTEM usage
* elements: Add new openssh-server element
* add option to configure cloud-init to allow password authentication
* elements: pip-and-virtualenv: Add python-xml dependency

1.22.1
------

* Fix runtime ssh host keys script
* Turn off tracing around pid/chroot check
* Fix a typo

1.22.0
------

* Change path for dnf arch override so basearch is not overwritten
* Fedora AArch64 (64-bit ARM) support in diskimage-builder
* Disable all repos in os-refresh-config too
* lib: common-functions: Fix tmpfs umounting
* add support for SUSE in dhcp-all-interfaces
* simplify ARCH param for rhel/centos param can be x86\_64 and amd64
* debian: install dialog package
* Install lsb package by map name instead of package name
* In disk-image-create, append to INSTALL\_PACKAGES instead of clobbering
* Cleanup yumdownloader repos
* Updated from global requirements
* Remove execute perm from disk-image-create
* Move dib-run-parts into diskimage-builder
* Avoid disabling rhel-7-server-rh-common-rpms
* elements: zypper-minimal: Mount common pseudo filesystems
* Updated from global requirements
* dhcp-all-interfaces: support Centos/RHEL 6
* Move diskimage-image-create to an entry point
* Move elements & lib relative to diskimage\_builder package
* Fail on element-info error
* elements: zypper-minimal: Refresh repositories after adding the cache
* elements: opensuse-minimal: Add support for building Tumbleweed images
* Fix ironic-python-agent image not loading vfat mod
* Don't include openstack/common in flake8 exclude list
* Drop MANIFEST.in - it's not needed by pbr
* Changed the home-page of diskimage-builder in setup.cfg
* Remove RedHat grub workaround install
* Add support for bindep.txt
* Don't log datestamp by default in functional tests
* elements: zypper: Do not pull recommended packages
* Turn down yum install-packages
* Don't set tracing in environment files
* elements: source-repositories: Add git package mapping for SUSE
* elements: growroot: Add SUSE package mappings
* elements: runtime-ssh-host-keys: Add openssh-client mapping for SUSE
* Don't use ssh-keygen -A for init scripts
* elements: simple-init: Remove SUSE interfaces
* Document install of diskimage-builder on Gentoo
* Add element for setting sysctl values
* start cloud-init-local in the boot runlevel
* Fix formatting for supported distros in docs
* Rename devloper documentation to developer guide
* Remove copyright from docs / toc
* Use globaltoc in docs for sidebar
* Fix developer guide TOC
* Add low-hanging-fruit bug tag to docs
* Add bugs link to docs
* Generate ssh-hostkeys on boot for ironic agent
* Enable release notes translation
* Add pkg-map for gentoo to runtime-ssh-host-keys
* Remove deploy element
* Remove deprecated deploy-ironic element
* Remove deprecated ironic-discoverd-ramdisk
* Remove deprecated expand-dependencies arg
* Remove deprecated serial-console element
* Remove deprecated map-services
* Remove deprecated map-services

1.21.0
------

* Create (md5|sha256) checksum files for images
* Add opensuse-minimal element
* Add zypper-minimal element
* Move the opensuse mkinitrd script to the zypper element
* Fix a command in Developer Documentation
* Default to http://ftp.us.debian.org/debian for debian-minimal
* Updated from global requirements
* Move opensuse utils to zypper so they can be shared by SUSE-based distros

1.20.0
------

* Disabling all previous repos registered in the system
* Fix typo in extracting root partition
* Create runtime-ssh-host-keys element
* Fix grub installation for RHEL
* Add release notes for block device handling
* Shorten DHCP timeout in dhcp-all-interfaces

1.19.1
------

* yum-minimal: Disable excludes when installing pkg manager
* Add libselinux-python to yum-minimal
* elements: opensuse: Add support for openSUSE Leap

1.19.0
------

* Remove EPEL as hardcoded dependency of centos elements
* Remove unnecessary dkms install from base
* Fix mellanox element required kernel modules and user space packages
* don't configure 'lo' for dhcp
* Move element-info to a standard entry-point
* Refactor: block-device handling (local loop)
* Convert pkg-map and svc-map copies to explicit variables
* Add IMAGE\_ELEMENT\_YAML and get\_image\_element\_array
* Making element overriding explicit
* fix systemd resource deadlock
* Add option to be able to run\_functests.sh in parallel
* Document source glean installs in simple-init
* Disabled IPv6 privacy extensions
* Generate and use upper-constraints for ironic-agent
* Explain difference between two envvars
* Add tests for building \*-minimal images
* Spec for changing the block device handling
* Update portage only if needed
* Update GRUB\_MKCONFIG for detecting what's installed
* Allow ramdisk-create to run without $USER set
* Use temp file for du calculations
* Clarify OVERWRITE\_OLD\_IMAGE docs
* Add blurb about communication to docs landing page
* Change DIB\_IPA\_CERT resulting file name
* Allow to skip kernel cleanup
* Add specs dir
* Add "audit"package to yum-minimal
* secure\_path in sudoers: deal with possible quotes
* Optionally remove portage files
* Generalize logic for skipping final image generation

1.18.2
------

* add no\_proxy when debootstrap trying to use proxy
* Correct order of parameters in call to qemu-img convert
* Correct order of parameters in call to tune2fs
* Fix proliant-tools dependencies
* Fix packaging problems for Debian
* Remove the escape in the centos7 README file
* Spec for changing the block device handling: partitioning
* yum-minimal: set locale.conf and tz in chroot
* Revert "Revert "Pre-install pip/virtualenv packages""
* Don't create an ironic-agent image just to delete it
* Make Fedora 24 the default
* Check sudoers file after editing

1.18.1
------

* Add 1.18.1 releasenotes
* Revert "Pre-install pip/virtualenv packages"
* package-installs: add list to arch and "not-arch" list
* Export YUM variable in centos bases
* Clear up "already provided" message
* Fix the bug that "mktemp: failed to create directory"
* dmidecode does not exist for ppc64/ppc64el
* Updated from global requirements

1.18.0
------

* Convert element\_dependencies to logging
* Release notes for 1.18
* Make xenial the ubuntu default
* Clean more from ironic-agent ramdisk image
* Updated from global requirements
* Handle locales install on Fedora 24
* Fix copyright in docs
* Run RHEL system unregister element earlier
* Updated from global requirements
* Fix sphinx-build to not depend on diskimage-builder
* Pre-install pip/virtualenv packages
* Ironic agent kernel should be owned by user building image
* Introspect logging testing more
* Add python logger configuration
* Remove discover from test-requirements
* Move pkg-map to dib-python
* Add cinder-backup mappings

1.17.0
------

* Release notes for 1.17.0
* Cleanup source-repositories output
* Refactor: rename temporary directories
* Refactor: remove unused functions
* Rework yum-minimal locale cleanup
* Remove Fedora 21 from test-build
* Export die() function
* Fix variable unbound error while REPOREF="\*"
* Handle file magic type varying order matching
* Remove deprecated overriding of cloud-init defaults
* Add cloud-initramfs-growroot for Precise
* Add release to pkg-map
* Export FS\_TYPE and remove hardcoded ext4 values
* Add PS4 to show file/function/line in debug output

1.16.1
------

* Revert "Revert "Properly fail/trap in eval\_run\_d"" and fix PIPESTATUS
* Fix path issue for locale-archive.tmpl
* Revert "Properly fail/trap in eval\_run\_d"
* Add dhcp-all-interfaces.target for syncing units
* Small doc update, add link to relnotes

1.16.0
------

* centos-minimal: can be used with base
* Properly fail/trap in eval\_run\_d
* Add 1.16.0 releasenotes
* Do not remove sudo in ironic-agent
* Fail functests if refusing to run tests
* Install docker for tests
* Fix apt-sources configuration for debian-minimal
* Add install-bin element
* tests/elements/fake-os: add '/tmp' as top level dir
* Updated from global requirements
* Add a best-effort sudo safety check
* Fix OpenSUSE support
* Install proliantutils in IPA's virtualenv
* Add documentation for dib-lint
* Add test dependency installation on Gentoo

1.15.0
------

* Use generic "dhcp-client" name
* Split YAML & JSON parsing
* Add some output to dib-lint
* dhcp-all-interfaces depends on dib-init-system
* dhcp-all-interfaces depends on dhcp
* Add Gentoo to the dhcp-all-interfaces element
* Updated from global requirements
* yum-minimal: strip locale archive
* Add releasenotes
* Change to latest CentOS-6 image
* Document upstream executable numbering convention
* Move selinux restore to end of finalise
* yum-minimal : better cleanup of initial yum failure
* Add EPEL as requirement of centos-minimal
* Allow skipping the md docs check
* Don't stop dib-lint on first flake8 failure
* Fix up EPEL element
* Updated from global requirements
* Support to add certificate in ironic-agent
* simple-init: Fix path for /etc/ssh test
* Fix disk usage report
* Add qcow2 generation for better test coverage
* Skip gentoo test
* Turn of tracing around du invocations

1.14.1
------

* Fix add-apt-repository package for precise
* Fix ssh key cleanup to run in chroot
* Debian: dont set always the hostname to debian

1.14.0
------

* Remove ssh host keys when using simple init
* dib-run-parts: make cp to target root more robust
* Set tgtd not auto-start on OS boot time

1.13.0
------

* Handle unconfigured interfaces for dhcp-all-ifaces
* Really remove all interfaces in dhcp-all-ifaces
* ironic-agent postinst fails on systemd with no iptables
* add pkg-map to pip-and-virtualenv element
* Turn down tracing for source-repo cache
* ironic-python-agent should use console output
* Add psmisc to the packages for ironic-agent
* Add new posix element
* Note requirement for parted on gentoo hosts
* Remove all interface configs for simple-init
* Set default locale to image in debootstrap element
* Make ubuntu-core support releases
* Add testing for the Gentoo element
* Updated from global requirements

1.12.0
------

* Use fstrim to prep the block device
* Revert "Zerofree the image if possible"
* centos-minimal does not provide base
* Add lshw package to ironic-agent
* yum-minimal: clear our rpm/dnf/yum data in chroot
* Add image size report
* Zerofree the image if possible
* Create new partitioning-sfdisk element
* Fix spurious = in dib-python readme
* Fix cloud-init-disable-resizefs README title
* Reorder developer quickstart docs
* Add --version option to disk-image-create
* Add Gentoo to the list of supported distributions
* Prioritize venv python on host

1.11.1
------

* Fix building on gentoo hosts
* Depend on ifupdown in simple-init
* Rework functional test runner
* Revert "Correct rhel-common for rhel6"
* Adding InfiniBand Support
* Add force-confdef in debian package install
* Install IPA in a virtual environment
* Don't cache debootstrap rootfs by default
* Don't remove python3 & grubby in 99-remove-extra-packages

1.11.0
------

* debian-minimal: configurable debootstrap components

1.10.0
------

* Remove eclean-dist as it's not available by default
* Reorder the package-uninstall action
* Do not remove python-dev from ironic-agent image
* yum-minimal: pre-install base packages
* Fix dpkg element for Ubuntu Xenial
* Refactor growroot for debuggabilty
* Fix startup race with growroot/systemd
* Replace sfdisk partitioning with parted
* Switch simple-init to pip-and-virtualenv element
* Revert "Skip centos functional testing"
* Use dnf to cleanup old kernels
* Increase interface has link retries to 20
* Fix growroot for Gentoo's openrc
* Fix tar listing in functional tests
* Add support for OpenRC to dib-init-system

1.9.0
-----

* Add new cloud-init element
* Fix Gentoo hardened support
* Skip centos functional testing
* Fix package-installs for python3
* Add support for gentoo to simple-init
* Mark ironic-discoverd-ramdisk as deprecated in favor of ironic-agent
* Add Gentoo support to growroot
* Add support for Gentoo to source-repositories
* Remove outdated translation files
* Only match #!/bin/bash in scripts
* Fix debian-minimal image building
* Updated from global requirements
* Don't use wc -l for the umount check
* Cleanup unmount\_dir function
* Add systemd/fedora support to growroot
* Remove argparse from requirements
* Revert "Use pip 7 for ironic"
* Updated from global requirements
* Force dib-python symlink creation
* Remove zero length files
* Use pip 7 for ironic

1.8.0
-----


1.7.2
-----

* Add inetutils-ping to test-deps
* Move speedup section to image building guide
* Add pkg-map for redhat
* Revert "Fix discoverd bug when dmidecode reports GB"
* Print unparsable file in pkg-map

1.7.1
-----

* Fill out bootloader pkg-map

1.7.0
-----

* Initial add of gentoo support for diskimage-builder
* Prune old branches when updating cache
* Correct rhel-common for rhel6
* deploy-ironic: Fix syntax error when checking for root device hints
* Add pip-and-virtualenv element
* Run package-intalls with py3k if we must
* The mirror for installing epel is timing out
* Properly account for pipefail during cleanup
* Make dkms element depend on dkms package
* py26 is no longer supported by Infra's CI

1.6.0
-----

* Fix discoverd bug when dmidecode reports GB
* yum-minimal : install selinux policy packages
* yum-minimal: do not configure eth0 & eth1 for DHCP automatically
* yum-minimal: leave behind dummy /etc/resolv.conf
* Fix growroot device detection
* Package installs defaults to tracing off
* Don't print trace unless trace is on in pkg-map
* Fix unmount/remove race in cleanup\_build\_dir
* Make check for image-should-fail quiet
* Document byte-to-inode ratio
* Split vm and bootloader elements
* Deprecated tox -downloadcache option removed
* Add a new element hpdsa
* Add dib-python element
* Allow grub2 to build with opensuse

1.5.0
-----

* Add kmod to package-installs of ironic-agent
* Load the 8021q kernel module in simple-init
* Add openssh-server package-install to local-config
* Fix grub-efi-amd64-signed install failure
* Fix fedora-minimal on CentOS builds
* Follow up patch for 25d3ee547176528e86d42eb026c99a134dff9452
* Updated from global requirements
* Add centos7 test
* Add DIB\_LOCAL\_CONFIG\_USERNAME to local-config
* Use ironic-agent for source-repositories
* Add dynamic-login element

1.4.0
-----

* Remove fedora-minimal/install.d/99-ramdisk
* Remove cloud-initramfs-growroot package
* Extend root device hints for different types of WWN
* Move install-types doc to user guide

1.3.0
-----

* Fixup RPM db path when building Fedora on Ubuntu
* Remove unused RELEASE\_RPMS variable
* Fix diskimage-builder image size
* Add proliant-tools element
* Add missing six requirement for svc-map element
* Fix fedora-minimal kernel-install on older platforms
* Clarify what fedora-minimal/install.d/99-ramdisk is doing
* Fix uniqueness check of initrd in fedora-minimal
* Updated from global requirements
* debian: cloud hostname ignored by Jessie
* Selectively prune /root for ironic-agent ramdisk
* Add a tox target to run functional tests locally
* Create YUM\_CACHE\_DIR in yum-minimal
* Use DIB\_EPEL\_MIRROR when finding the epel-release package

1.2.0
-----

* Add support for Xen PV disks
* Add --force to grub-install
* Preserve env when calling yum with sudo
* Define a default for $YUM
* Fix tests/test\_functions.bash
* Fix devuser pubkey defaults
* Reset yum/dnf cache to correct location
* Remove extra install of release pkgs in fedora-minimal
* Update default fedora-minimal to f22
* Add Fedora 22 support to yum-minimal
* Enable decimal value for $DIB\_IMAGE\_SIZE
* Update rhel7 element readme
* Move yum-based install into function
* Update apt-preferences element README from free text to table formatting
* Update apt-conf elements README from free text to table formatting
* Fix title of env vars section of fedora README to match template
* Fix title of env vars section of redhat-common README to match template
* Avoid transcending /proc with find
* Reorder the script number of 'elements/dkms/post-install.d/99-dkms'
* dib-lint: ignore blank lines in element ordering
* Restrict search for python object files to ./usr
* Add flake8 to requirements
* agent: ensure vmlinuz file does not exist before hard-linking into it
* Prevent overwriting of user modified blacklist.conf
* Remove quotes from subshell call in bash script
* Contains the directory name of /sys and /proc
* Install 'gdisk' when building ramdisk with ironic-agent
* Use --nodeps when installing fedora-release
* Output failing lines when dib-lint finds wrong indents
* Adds debian support to iso element
* ironic-agent element to output a .kernel file
* Add functional test for ironic-agent on Fedora
* Updated from global requirements
* Add option to set EPEL mirror
* Remove dnf workaround in ironic-agent
* ironic-agent: remove python object files
* Install ironic-agent dependencies via package-installs
* Fix variable misspelling error

1.1.2
-----

* Prettyfy source-repositories doc
* Prettify 'Caches and offline mode' documentation
* Download a compressed centos cloud images
* Prettify 'Developing Elements' documentation
* Add centos7 support for DIB\_DISTRIBUTION\_MIRROR
* Don't create a centos yum repository
* Add #!/bin/bash to library functions
* Make README.rst a bit more generic
* Deprecate the deploy-ironic element
* dib-lint: validate json/yaml files
* Make sure dnf won't autoremove packages that we explicitly installed
* Handle install with pip -e
* doc: migrate from README.rst to Sphinx
* Update fedora elements README from free text to table formatting
* Update redhat-common elements README from free text to table formatting
* svc-map: do not specify user/group for install
* Activate pep8 check that \_ is imported
* Remove grub2 in redhat-common/pre-install.d/15-remove-grub
* Remove old entries from MANIFEST.in
* ironic-agent: ensure dmidecode and ipmitool are installed
* [ironic-agent] Use svc-map for enabling agent
* Update dpkg elements README from free text to table formatting
* Fix ironic-image pkg-map

1.1.1
-----

* Run growroot after all filesystems are mounted
* Updated from global requirements

1.1.0
-----

* Fix a typo in README.rst
* create growroot element
* Install-static depends on rsync
* Fix init-scripts element path munging and deps
* Pin the Fedora mirror for testing
* Reduce the size of the ironic-agent ramdisk
* Set and export DIB\_RELEASE for centos7
* Correct URL in ironic-agent README
* Add curl to ironic-agent package installs
* Handle modern sfdisk and correctly align image partition
* Set DIB\_RELEASE for the Debian test-element
* Add documentation of output formats for users
* Remove docker doc from docs
* Add ability to build ironic-python-agent ramdisk from packages
* Adds Ubuntu and Debian to ironic-python-agent Support-list
* Fix link in installation doc

1.0.0
-----

* debian: properly configure interfaces
* typos on the document
* Only warn about missing map files with debug
* Fix test cleanup trap to cleanup tmpdir
* Support building ACIs
* Document what our stable interfaces are
* Add element to disable cloud-init resizefs
* Update default Fedora to 22
* Cleanup yum downloading
* Add base element for using docker as image base
* Add docker output support
* Add init-scripts directory support
* Document our supported distributions
* Use official mirror name for debian-minimal
* debian: install DHCP client and ifconfig packages
* Removes hardcoded refrences for ethernet interface
* Remove deprecated disk-image-get-kernel
* opensuse: Update README
* openSUSE: Fix link to the images download folder
* Use the init scripts from the glean package

0.1.47
------

* Have glean set hostname if a config drive exists
* Add oat-client element
* Allow source-repositories ref to be "\*"
* Only chown tmp dirs when they are a tmpfs mount
* Work around yum/dnf differences
* Add YUM variable to for Fedora >= 22
* Optimize Python install in deploy-targetcli
* Updated from global requirements
* dib-lint: make it work on Mac OS X
* Wait longer for root device to become available
* Revert "Revert "Ensure DIB\_RELEASE is exported for fedora""
* Add test for centos 6
* Document only exectuables in phase dirs policy
* Change simple-init to use a PATH variable
* Add explicit f21 test
* Dont fail if were missing setfiles
* Revert "Remove unused map\_nbd function"
* ramdisk: enable ppc64 support for symlink
* Cleanup the build directories earlier

0.1.46
------

* Revert "Ensure DIB\_RELEASE is exported for fedora"
* CentOS-6 resize support
* Follow symlink for elements
* Add grub2 element
* Don't log tmpfs message during cleanup
* Support custom kernel cmdline args for deploy iso
* Address follow-up comments
* Add Ironic API version to passthru URL for deploy-ironic
* Skip backups and other non-relevant files for dib-lint
* Use tar -t instead of -l because centos 6
* Make it clear that tmpfs is optional
* Ensure DIB\_RELEASE is exported for fedora
* rhel-common element should not use attach with activation key
* Make $DIB\_YUM\_REPO\_CONF accept a list of repo files
* Pass glean output to the console log
* Use environment setfiles
* redhat-common: rename 01-clean-old-kernels.sh to drop .sh extension
* Cleanup /tmp in the guest
* Add debian build test case
* Install debian locales
* Add smoketest for fedora
* Initial element tests
* doc: small snippet about operating system elements
* Use Centos 7 cloud image symlink
* vm: use $DISTRO\_NAME instead of lsb\_release
* rax-nova-agent: switch to $DISTRO\_NAME
* ramdisk: switch from lsb\_release to $DISTRO\_NAME
* Simple-init should disable cloud-init
* Make managing hosts entries optional
* Have simple-init regenerate ssh keys on boot

0.1.45
------

* Remove install of vlan/vconfig from base
* package-installs: fix error case for Python 2.6
* centos/centos7: switch to epel element
* epel: support centos element
* Address comments on virtual media device label commit
* debootstrap: fix syntax issues
* Fix disk image create errors behind proxy
* force arch amd64 for EL7 elements
* Add packages required for iscsi extension in agent
* Package ldlinux.c32 along with isolinux.bin if it exists
* Add install\_test\_deps script
* Fix $DIB\_DEFAULT\_INSTALLTYPE export statement
* Export DIB\_RELEASE in centos

0.1.44
------

* debian-minimal: Remove -backport's restricted + universe

0.1.43
------

* Actually set a sane PATH for inside chroot
* Turn docs warnings into errors and fix issues
* Generate locales in debian-based elements
* Split the debootstrap functions into an element
* Install glean from openstack source
* Support arch-specific package-installs
* Add functional smoke test for disk-image-create
* Updated from global requirements
* Mount with -o nouuid for XFS base images
* Port centos-minimal to yum-minimal
* Use shorter temporary file names for kpartx
* Fix image size to fit filesystem journal
* Use labels for virtual media dev in Ironic ramdisk
* Append full path to img-functions:run\_in\_target
* Updated from global requirements
* Remove unused map\_nbd function
* update the dib centos7 baseurl to use a mirrorlist
* openSUSE update
* Add a yum-minimal element that just uses yum
* Add element to process config-drive network info
* Break install-types out of base
* Support VHD output format
* Update packages earlier
* Fix to load only signed kernel in UEFI secure boot
* Add element ubuntu-signed to provide signed kernel
* Update install docs to be more user friendly
* Switch default Fedora image to F21

0.1.42
------

* Clean up targetcli ramdisk installation
* Make troubleshoot work with dracut ramdisks
* Do not export REG\_HALT\_UNREGISTER between hook scripts
* Add generic devuser element
* Update cloud-init-datasources README
* Improved apt-sources README
* Don't trace RHEL Registration scripts
* Try 5 times for rmdir command call after umount
* Generate the default en\_US locale
* No markdown docs for elements
* Create the dracut directory if not existing already
* Export image properties
* Correctly handle raw type ordering
* Create a user guide
* Report status of boot loader installation to Ironic
* Fix dhclient in Fedora ramdisks
* Use find instead of ls
* Reorder tox environments
* Add py34 to tox
* Run svc-map tests
* Open MKFS\_OPTS for extension in disk-image-create
* Short circuit qemu-img convert for raw images
* Download of translations not properly disabled in APT
* Split dib-init-system into its own element
* Handle non-cloud-init installs
* Dont try to unmount if were not using tmpfs
* Run udevadm settle after kpartx -l
* Refactor deploy ramdisk to allow use of targetcli
* Allow elements to add drivers to dracut
* Fedora: install redhat-rpm-config
* Cleanup/restify components.rst
* redhat-common: Fix MariaDB-Galera-server case
* Flagging ubuntu-minimal as untested

0.1.41
------

* Ironic: Deploy ramdisk to find the right root device
* Ironic: uefi localboot support
* Convert leftover unconditional set -x to DIB\_DEBUG\_TRACE
* Fix check for installtype
* Fix incorrect package name dmidecoded to dmidecode
* ironic-agent: exclude content of /tmp from initramfs
* UEFI secure boot support for iso element
* Install Fedora kernel-modules pkg for iscsi\_tcp
* Allow disabling apt-get clean
* Set DIB\_RELEASE in ubuntu element
* CentOS 6 Element
* Fix race in svc-map
* Use package-installs on dpkg-based elements
* openSUSE update
* package-installs: work with Python < 2.7
* Split out README into separate files
* Add wget to package-installs.yaml for epel
* Updated readme
* Fix unbound variables in apt-{preferences,sources}
* pkg-map: respect --missing-ok also on missing pkg-map file
* update epel version number in epel element
* Allow setting DIB\_PIP\_RETRIES
* Add a link to the "Writing an element" section
* Quote to handle empty DIB\_RELEASE
* Namespace PYPI\_MIRROR\_URL vars with DIB
* Fix memory detection in ironic-discoverd-ramdisk
* Add documentation of DIB\_IMAGE\_CACHE variable
* Simplify ironic-discoverd-ramdisk
* Support assigning IPMI credentials in ironic-discoverd-ramdisk
* Use oslosphinx for docs site
* Standarise tracing for scripts
* Bump to hacking 0.10
* Fix the bootloader on UEFI machines
* Add \`tox -edocs\` capability
* Create docs site containing element READMEs
* Fix type in DIB\_DISTRIBUTION\_MIRROR use
* Pass BOOTIF to ironic-discoverd from the ramdisk
* Use package-installs for ubuntu and base elements
* Add apt-get autoremove
* Add install-static element
* Enable vm element to create PowerPC image
* Add no\_timer\_check to vm grub cmdline
* Dont fail if we have no old-style package-installs
* Use sudo -E when squashing package installs files

0.1.40
------

* setfiles consistently
* Ironic: Local boot
* Corrected \`element-info\` usage
* Add installtype support to package-installs
* Fix issue with leaking /tmp/image.\* directories
* ironic-discoverd-ramdisk element cleanup
* Add support for using local PowerPC VM image
* ramdisk-image-create: add support for vmlinux file

0.1.39
------

* Switch manage\_etc\_hosts from True to localhost
* Set http\_proxy to retrieve the signed Release file
* Run Registration Once
* Fix Satellite Repo
* Use DIB\_IMAGE\_CACHE in dpkg element
* Fix for RHEL6
* Allow for disabling rhel registration
* dracut-ramdisk: fix support for elements with ramdisk-install.d
* Don't trace RHEL registration scripts
* Ignore stderr from pkg-map
* Allow absolute path to image with ironic-agent
* Add install section to Ironic agent systemd service file
* Fail helpfully if uuidgen is missing
* Continue past dependency ordering diffs
* Add element for ubuntu-core
* Add rax-nova-agent element
* Add minimal ubuntu and centos base elements

0.1.38
------

* Rework package-installs to collapse on build host
* Fallback to a boot\_server kernel param if ip=  not passed
* Add some speedups to dpkg
* Deprecates username and password from boot time registration
* Use env python
* Fix repo enablement for RHEL during registration
* Allow injecting arbitrary yum repo configuration
* Don't use lsb\_release
* Fix rst rendering
* Add Activation Key Support For Customer Portal
* Migrate to new package-installs
* Add new package-installs system
* Improve --ramdisk-element docs
* Unset requiretty if it exists in sudoers
* Remove the grub2 install from redhat-common
* Remove use of sudo from yum pre and post elements
* Add element for hardware discovery ramdisk for ironic-discoverd

0.1.37
------

* disk-image-create: fix test when no argument is given
* Warning when using pypi element without a mirror
* Make some pkg-map errors soft
* Fail helpfully if no elements are specified
* Check python with flake8 instead of dib-lint
* Update RHEL Registration

0.1.36
------

* Deprecate map-packages, replaced by pkg-map
* Allow multiple identical sources
* Add DIB\_DEBOOTSTRAP\_EXTRA\_ARGS environment variable
* deploy-kexec depends on deploy
* Remove duplicate binary-deps from dracut-ramdisk
* Add element for building ramdisk with ironic-python-agent
* Simplify Dracut cmdline script
* Add deprecation warning when using map-services
* Fix indent exclusion
* Install PyYAML for the svc-map element
* Install lsb\_release from package
* Enable RHEL Registration
* Support installing packages by default
* Optimize speed of deletion in find command
* package-installs assumes packages have a pkg-map
* Updated from global requirements
* Unset trap before dracut ramdisk build script exits
* iso element to use 'search --label' for grub
* Update Debian repo to retrieve signed Release file
* export DIB\_ROOT\_LABEL to make it global

0.1.35
------

* Use binary-deps.d for dracut ramdisks
* Move busybox binary-dep to ramdisk element
* svc-map requires PyYAML
* iso element to build bootable ISO images
* Handle extra spaces in merge-svc-map-files
* Enable dracut deploy ramdisks
* Revert "introduce $SYSTEMD\_SYSTEM\_UNIT\_DIR"
* Avoid overwritting of hooks
* Disable all interfaces on eni systems
* Remove first-boot.d support
* Force empty $TMPDIR inside the chroot
* Allow source-repositories to be disabled completely

0.1.34
------

* Move to final release of CentOS7 images
* Consolidate lsb\_release source-repositories
* Allow for multiple image outputs from raw source
* Echo that qemu-img convert is running
* Preserve exit value when leaving cleanup trap
* Don't re-install cloud-init for centos7 images
* Check for epel before installing it

0.1.33
------

* Do not try to detach non-existant loopback devices
* Move install bin from rpm-distro to yum
* Use DIB\_IMAGE\_CACHE everywhere
* Save extended attributes when creating tar
* Ensure epel7 is installed only on rhel7/centos7
* Update EPEL release rpm
* Fix $DISTRO\_NAME usage for centos7 element

0.1.32
------

* Add unit test for cache-url
* Use $((EXPRESSION)) instead of $[EXPRESSION]
* Install openstack-selinux on RHEL
* Updated from global requirements
* Move dpkg manifest creation to finalise
* Allow custom rootfs labels
* Add svc-map element
* Refactor ramdisk element to allow alternate implementations
* Updated from global requirements
* Adds EPEL repo, cleans up rhel7 repos
* Update to newer Centos7 images
* Provide ability to build images for other architectures
* Handle non-existing \*generic kernel and initrd

0.1.31
------

* Change order for yum-repos file in centos7 element
* Make diskimage-builder work in Docker
* Add ceilometer service mappings

0.1.30
------

* Run environment.d hook for manifests earlier
* Reset yum configuration in post-install.d
* Add vmedia boot support for deploy-ironic element
* opensuse: Support pkg removal in install-packages
* Use package-installs in more elements
* Replace backticks with $()
* Fix openSUSE kernel/initrd detection
* Correct statement about ramdisk and tmpfs
* Fix for host env leak into grub

0.1.29
------

* Fix openSUSE cloud image download and extraction
* Add element-manifest
* Changed serial console setup
* Map dkms package for SUSE in base element
* Fix capitalization of openSUSE
* Fix ramdisk pkg-map for openSUSE
* Truncate instead of deleting log files
* Lock around extract-image downloads and extracts
* Add support for flashing ILO BMC's from ramdisks
* Remove docs about deprecated pypi-mirror tool
* Use dib-run-parts from dib-utils

0.1.28
------

* Make RHSM registration set -u safe
* Add service mappings for ironic
* Revert "Remove the temporary deploy element after rename"
* Remove hardcoded version
* Increase source-repositories support for tarballs
* map-services: add openstack-nova-novncproxy
* Allow to specify an empty package list in pkg\_map
* Use package-installs in fedora
* package-installs for pre-install.d/post-install.d
* Formatting fixes for dhcp-all-interfaces
* Remove disable\_interface from dhcp-all-interfaces

0.1.27
------

* Relabel filesystem if SELinux is available
* debian: exclude contents of /tmp from debootstrap tarballs
* Centralize handling of /lost+found

0.1.26
------

* Cleanup apt cache after grub install
* Extend/fix support for extlinux bootloader
* Create cache directory
* Remove package mapping for mariadb-rdo-galera-server
* Adds RHEL common element
* Support for UBoot
* Add dib-lint exclusions
* Revert "Cleanup apt cache after grub install"
* Fix sourcing of environment files
* Add virtual media boot support in ramdisk element
* Cleanup apt cache after grub install
* Update RHEL7 element since release
* Bump hacking to 0.9.x series
* Lock around ubuntu tarball download
* Avoid to install a blank list of packages
* Don't try to install if packages is empty
* Add a ramdisk-install.d hook path
* Initial centos7 support

0.1.25
------

* Update RHEL 6.5 Image name
* Add dhcp support for ramdisk element
* Handle non-script grub2-install
* Use readlink to get script path
* Detail 'other' directories in the README

0.1.24
------

* Lock around source repositories setup
* Really handle Ubuntu mirror cache skew,
* Echo output when pkg-map fails
* Optimizing directory creation
* Revert "Don't match editor backup files in env..
* Allow overwriting old images
* Correction: if then statement code style
* Last ditch effort to correct a wrong shasum
* Avoid to install a blank list of packages
* Add global exclusions to dib-lint
* Don't match editor backup files in environment
* Remove fixfiles from rpm-distro finalize

0.1.23
------

* Rename rhel element yum blacklist
* Set LC\_ALL=C into dib-run-parts env
* update opensuse element
* Use $DISTRO\_NAME instead of local lsb\_release
* Add RHEL7 to Red Hat family in pkg-map
* Use common element select-boot-kernel-initrd
* Always bind-mount pypi mirror if dir exists
* Add select-boot-kernel-initrd element

0.1.22
------

* Ignore manifest outputs more carefully
* VM element: Enable serial console on Debian
* Disk-image-create should allow sending compat flags to qemu-img
* Ensure cache directory exists before use
* update zypper element

0.1.21
------

* Drop ending slash from DIB\_CLOUD\_IMAGES
* Update base element to make use of pkg-map
* opensuse: support pkg-map in bin/install-packages
* dpkg: support pkg-map in bin/install-packages
* Element to remove unwanted kernel/initrd
* introduce $SYSTEMD\_SYSTEM\_UNIT\_DIR
* Update README regarding Debian and OpenSUSE support
* Do not use DatasourceNone for precise cloud-init
* Explicitly name element enable-serial-console
* avoid failure if /lib/firmware doesn't exist
* Tidy base image by removing /var/log files
* debian: fix network on Wheezy

0.1.20
------

* Refactor code to select boot kernel
* fail at startup with no operating-system element
* Add test to ensure we don't duplicate filenames
* Name deploy-ironic and deploy-baremetal files uniq
* Name 10-rhel-cloud-image uniquely
* Name 01-install-bin uniquely
* Delete redhat-common 00-usr-local-bin-secure-path
* Name 99-setup-first-boot uniquely
* Yum: support pkg-map in bin/install-packages
* Add tar as an output type
* Correct source-repository comments
* dpkg: local cache for .deb files
* map-services: add openvswitch
* Ensure dib-run-parts profiling works with py3 and py2
* Rename old image file instead of rewrite it
* Add missing dollar
* Replacing deploy to deploy-baremetal in README.md
* Reinstate Trusty as default for Ubuntu
* Only use Ec2 cloud-init data source for Ubuntu
* Remove uneeded code from pkg-map
* Correct the wrong rename in rhel element
* Add manifests to .gitignore
* Check return code of element-info
* Add new cloud-init-datasources element

0.1.19
------

* Set DISTRO\_NAME in OS environment.d

0.1.18
------

* Add pkg-map element
* Factor out error behavior in dib-lint
* Fix package removal
* Create an element to allow using a dpkg manifest
* Check for set -o pipefail
* Set -o pipefail new scripts
* Add support for source-repos gerrit refs

0.1.17
------

* Stop using bash arrays for whitelisting in yum
* Tidy up SuSE kernel selection
* Parameterise PXE kernel and initrd selection
* Debian: Support additional debootstrap arguments
* \`set -u\` doesn't permit bash arrays to test -n
* Ensure we can read the kernel out
* Export unbound variable DIB\_RHSM\_USER
* indent: search for !=4 spaces indentation
* 4 spaces indent
* Updated from global requirements
* Adding -x to set parameters for more output

0.1.16
------

* Ensure scripts are set -u
* set -u and -o pipefail everywhere
* Fedora: Add support for configuring Yum mirrors
* dib-lint: check for tab indent in files
* dib-lint: ensure file finish with a new line
* add some missing \n at end of file
* Add map-services for debian distros
* Make sure all scripts are set -e
* Allow excluding tests from certain files
* Eliminate 'tr' in favor of inline bash
* Support declarative package installs/uninstalls
* Build raw image in separate tmpfs
* debian: properly deal with Debian stable/unstable

0.1.15
------

* Permit cache-url to work with fifos
* debian: add systemd support
* debian: support upstart on Wheezy
* Debian element should activate eth0
* Respect inmutable resolv.conf in the image
* set -e all the things
* Explicitly use bash
* Remove All Rights Reserved

0.1.14
------

* Add package uninstall support
* Revert default Ubuntu release back to Saucy
* Add a mapping for kernel headers
* Map openjdk-7-jre-headless to RHEL+SUSE
* Sort rhel/bin/map-packages
* Add sysv support to elements/dhcp-all-interfaces
* Place /usr/lib64/ccache in PATH
* Small fixes for dhcp-all-interfaces
* cleaning up 01-copy-manifests-dir
* Remove the temporary deploy element after rename
* Use provides to note an element provides deploy
* Remove dependency on /etc/lsb-release
* indent: replace tab by 4 spaces
* Make "trusty" (Ubuntu 14.04) the default release
* Add switch to turn on caching for debian element
* Remove cloudy interfaces in dhcp-all-interfaces
* debian: simplify the way debian element is called

0.1.13
------

* Fix set -eu and pipefail failures
* Move instead of copy the temporary git manifest
* Add mapping for mariadb rdo package
* map-services: add apache2 in the list
* Remove map-services from fedora element
* Use provides to note an element provides an OS
* Standardise manifest creation and retrieval
* Remove call to depmod in busybox
* apt-conf: uninitialised variables fix

0.1.12
------

* Iterate over provided elements first
* Add ability to add extra apt keys
* doc: indentation rules for element
* Document a little the concerns for operators
* debian: use sudo to create file in the chroot
* Disable splashimage for legacy grub
* Change refspec used to fetch all branches and tags
* fix grub2 installation on Debian Wheezy
* Fix Grub configurations for Fedora images built on a UEFI host

0.1.11
------

* Fix dhcp-all-interfaces upstart job
* Fix dhcp-all-interfaces on Ubuntu/Debian
* Fix resource exhaustion with upstart
* Write a dpkg manifest to list installed packages
* Fix "(None)" seed hostname on Debian
* dhcp-all-interfaces: correct ifquery return stmt

0.1.10
------

* Make stable-interface-names its own element
* Uses policy-rc.d to prevent dpkg starting daemons
* Enforce alphabetical ordering of element-deps
* Alphabetize all element-deps
* Add dib-lint script
* Adds package mapping for mariadb packages
* Adding pypi-mirror dependencies for redhat
* Revert "Only create a tmpfs big enough for DIB\_MIN\_TMPFS"
* debian: install cloud-init on Wheezy
* Remove an excess cp of disk images
* Adds "element-provides" support to element dependencies
* Add console kernel parameters to extlinux configuration
* Permit use of wheel mirrors in pypi element
* baremetal: correct the path of ifcfg-eth0
* Adds libmariadb-dev package mapping
* rename udev.rules to dhcp-all-interfaces-udev
* serial-console: Use udev rules to startup getty
* Set +x on executable files

0.1.9
-----

* DHCP: make udev rules want dhcp-interface@.service
* Add RHEL 7 image element
* Use redhat-common in fedora element
* Add redhat-common element
* Correct README.md markdown errors
* Support adding DHCP interfaces one at a time
* Move install type enablement into base element
* Remove hardcoded /tftpboot/ from token's tftp path
* RHEL Package maps for build-essential, python-dev and libz-dev
* Extract move cache logic to a function
* Always export IMAGE\_NAME
* baremetal element: Enable stable interface names
* Fixup all occurrences of REPONAME for replacing '-'
* Create a git manifest from source-repositories
* Add apache2 mod\_wsgi pkg map for suse
* Updated from global requirements
* 98-source-repositories tries to return from script
* Add libaio1 to libaio pkg map for fedora
* Only create a tmpfs big enough for DIB\_MIN\_TMPFS
* Additional swift storage service mappings
* Update openSUSE package mapping for libffi-dev
* Better apt-sources docs
* Add nfs-common package mapping
* Replace more then just "-" in REPONAME
* Bash eval the lines in source-repository scripts
* Fix spelling error in "vm" element README.md
* Add $EXTRA\_ARGS back to yum call
* Update the image name for RHEL Guest Image
* Alphabetize openSUSE services dictionary
* Alphabetize openSUSE packages dictionary
* Alphabetize Fedora services dictionary
* Alphabetize Fedora packages dictionary
* Enable extlinux support for (non-Ubuntu) Debian platforms
* Replace use of show-ref with name-rev

0.1.8
-----

* Fix syntax error in GRUB\_OPTS env var handling
* Update README formatting and content
* Improve local-config proxy handling
* Enable custom apt.conf in apt-conf element
* Add rsync to the package list used by debootstrap
* Enable simple modification of git repo location
* Add NFS package mapping
* Improve usability of the source-repositories cache
* Fix unbound variable in debian element

0.1.7
-----

* Replace security.ubuntu.com when setting mirror
* Generalize install-packages for yum
* Remove accidental merge marker
* Add libvirt-bin -> libvirtd to map-services
* Make max-online-resize an option
* Correct DIB long option parsing
* Add 00-fedora-fixup-vim
* Update pypi element to suggest pypi-mirror
* Permit using arbitrary PyPI urls
* Pep8/Pyflakes fixing
* Shift debian element to DIB\_DISTRIBUTION\_MIRROR
* Revert "Add Fedora DHCP interfaces via udev rules."
* Revert "Support adding DHCP interfaces one at a time. "
* Teach cache-url to handle file:// URIs

0.1.6
-----

* Remove tox locale overrides
* Add Fedora DHCP interfaces via udev rules
* Support adding DHCP interfaces one at a time
* Rename Openstack to OpenStack
* Don't hardcode environment.d
* Add more package name mappings for openSUSE
* Add lsof package to all Fedora images
* ifquery doesn't exist on Fedora
* Remove unneeded service mapping for mysql on openSUSE
* Fix misspellings in diskimage-builder
* Fix kernel extraction on openSUSE
* Adjust neutron package install for Fedora
* Make the MIRROR\_TARGET directory if it didn't exist
* Add tgt service mapping for Fedora
* Update openSUSE package mappings for OpenStack
* Updated from global requirements
* Update map-services for Fedora
* Add Fedora packages mappings for snmpd
* Add mysql mapping for Fedora
* Add package map for stunnel4
* Add ability to use local cloud image
* Add a service mapping for openSUSE
* Add bash as a dependency to the deploy ramdisk
* Include /lib64 into the deploy ramdisk on openSUSE
* Fix tftp mapping on openSUSE
* Use /usr/bin/env, not /bin/env

0.1.5
-----

* Rename generate-interfaces-file.sh..
* Only configure DHCP for real interfaces
* Add map-services
* Skip relabel unless SELinux is enforcing
* Mount root filesystem readonly during boot
* Fix kernel/initrd extraction for SUSE based distros
* Fix ramdisk element for openSUSE
* Workaround broken udev update on openSUSE
* Make copy\_required\_libs() more robust
* Add Copyright and License header to debian element
* Setup ccache symlinks on openSUSE
* Add support for Red Hat Satellite
* Support list of Red Hat channels and repos
* Add support Red Hat Network (RHN)
* Update default RHEL guest image
* Create a new baremetal element
* Fix mysql package mappings for opensuse
* fedora/RHEL: use env from /usr/bin
* Allow use of mirrors when building Ubuntu images
* Update to Fedora 20
* Convert -dev to -devel in fedora/map-packages
* Fix the curl command in the ironic-deploy element
* Move Babel and argparse from test-requirements.txt
* Symlink correct element install type
* dib-run-parts should dereference symlinks
* Add debian-upstart for experimenting with upstart
* Allow adding packages to debootstrap
* Add support for Debian
* Wait for tgtd socket to be available

0.1.4
-----

* Add new modprobe-blacklist element
* Install traceroute on Fedora
* Retry link check up to 10 times
* Implement serial-console for systemd
* Removing the config-applier element
* Add package support to source-repositories
* Increase padding to allow for smaller images
* Remove old versions of grub2 from the yum cache
* Implement dhcp-all-interfaces for systemd
* Install tcpdump on Fedora
* Mark install-packages +x
* Make sure a loop device exists before kpartx is called
* Fixed command dib-init-system not found error
* Refactor unmount\_image with unmount\_dir
* Fixed device or resource busy issue in EXIT trap
* Add a package mapping for libvirt-dev

0.1.3
-----

* Log unsupported source repository types
* Improve source-repositories git caching
* Add element to modify /etc/apt/sources.list in dib
* Fix package-mappings for openSUSE
* Update login.defs on openSUSE
* Make sure sbin paths are in $PATH

0.1.2
-----

* Add -U to pip install command in tox.ini
* Add zypper element
* Increase the size heuristic for images
* opensuse: Update README.md
* Fix $TARGET\_ROOT usage in yum element
* local-config: Configure proxy for zypper repos
* Updates tox.ini to use new features
* Quieten disk-image-get-kernel

0.1.1
-----

* Add support for building openSUSE images
* Add examples for ramdisk-image-create
* Fix no busybox symlinks issue on rhel
* Log the repository fetches in source-repositories
* Default name for ramdisks to image
* Add deploy ramdisk element for Ironic

0.1.0
-----

* Modify /etc/selinux/config if it exists
* Drop default distribution root element support
* Remove dot after TMP\_HOOKS\_PATH
* Store DIB\_\* only env variables
* Remove the dot typo in extra-data script
* Updates .gitignore
* Switch Ubuntu element to installing saucy
* Enhance dib-run-parts usage message
* Add mapping for tgt to RHEL element
* Update openssl for Fedora
* Add option --image-size
* Fix typo in source-repositories README

0.0.11
------

* Detect udevd version and behave accordingly
* Fix issue with Ubuntu grub pre-install step for ARM
* Check existence of rhel rpm key
* Fix troubleshooting override
* Support building wheels (PEP-427)
* Document ramdisk troubleshooting
* Add troubleshooting override to deploy ramdisk
* Add mapping for gearmand
* Make pxe\_mac accurate in two common cases
* /bin/bash all the things
* Split network bringup out of base ramdisk init
* Don't block the upstart daemon if it doesn't exist
* Make sorting of ramdisk init elements explicit
* Provide a way of determining init system used
* Usage message enhancement

0.0.10
------

* Add mapping for libffi-dev
* Allow heat-admin to sudo without tty
* Python code refactorings
* Add \*.egg to .gitignore
* Remove BUSYBOX variable from ramdisk-defaults
* Replace assertEquals with assertEqual
* Updated from global requirements

0.0.9
-----

* Check existence of directory 'lost+found'
* Remove mapping of atftpd to tftpd-server
* Remove dependency on dracut-network
* Add redhat mapping from tftpd-hpa to tftp-server

0.0.8
-----

* Add apache and mod\_wsgi to Fedora's package map
* Allow for bad Fedora image mirrors
* exit 44 if http 404 is returned
* Ignore basename failures
* Dracut regenerate initrd w/ the right kernel
* Fix disk-image-get-kernel for redhat
* Remove framebuffer video drivers from ramdisks
* Remove old-kernels for fedora

0.0.7
-----

* Conditionally add dhcp-all-interfaces

0.0.6
-----

* Remove \r chars from dhcp-all-interfaces
* Make dhcp-all-interfaces block all interfaces
* Fix ifquery call in dhcp-all-interfaces
* Allow for redirects to ftp servers
* Updated from global requirements
* Specify distro release in fedora image name
* Move /tmp/ccache setup to base element
* Use --numeric-owner when extracting base image
* Mount /dev/pts in chroot
* Using python to run testr instead
* Make RHEL subscription optional

0.0.5
-----

* Increase journal size to 64 M for ext4 file system
* Fix mellanox module loading
* Ignore empty files returned by curl
* Generate interfaces file before cloud-init runs
* Updated from global requirements
* Fix typo in dhcp-all-interfaces
* Set locale for the profiling printf command
* Update from requirements

0.0.4
-----

* Deprecate first-boot.d
* Add mapping for atftpd in fedora/rhel
* Make RHEL subscriptions optional
* Add RHEL mapping for openssh-client
* Add RHEL mapping for augeas-tools
* Add RHEL mapping for default-jre
* Translations license statement correction

0.0.3
-----

* Do not prompt on removal of apt-xapian-index from ubuntu cloud images
* Add DIB\_IMAGE\_CACHE

0.0.2
-----

* Remove apt-xapian-index from ubuntu cloud images
* Use lazy umount to avoid race problems with dev
* Remove github references
* Move textmode forcer to vm element
* Fix grub/linux text mode override
* Add deploy-kexec element
* Consolidate the checks for /etc/grub
* Check cached file size when downloading an url
* Fedora 19 has no grub2 conf file
* Install fedora grub from cached rpm during finalise
* Remove -r option from kpartx for successful build
* Fixes files ordering when choosing newest image
* Add package mapping for default-jre
* Set raw image size to be multiple of 64k

0.0.1
-----

* Delete -new image once copied
* Add --list support to dib-run-parts
* On Fedora, use Linux Foundation bzr lsb\_release
* Add support for file to source-repositories
* Install patch for dracut patching
* Add rhel installation element
* Add option --min-tmpfs <size> to disk-image-create
* Add package mappings for MySQL-MariaDB
* Combine compress and save image into one function
* Extlinux fallback
* Rename 51-grub to 51-bootloader
* Add a pip-cache element
* Fix URL to os-apply-config
* qpid package mappings
* Call sync before unmounting keeps the mount from being busy
* Remove a device mapping, then let the loop device get removed
* Extracting common functionality for rpm based distros
* Use kpartx if partition device doesn't exist
* Set file permission to be executable
* Fixed a network setup issue for F19
* Update stackforge references to openstack
* Package dib-run-parts
* Add yum element
* dkms is unavailable on RHEL and derivatives
* Fix pypi element README.md errors
* Allow using a pypi mirror to install via pip
* Make $HOME in the chroot be reasonable
* Cleanup mount points automatically
* Change the rootfs label in F18 and F19
* Remove explicit sudoers requirement
* Document the dangers of co-existing elements
* Blacklist H803
* Capture the repositories from source-repositories
* Improve caching documentation
* Package with pbr
* Add a new break on error
* Ensure $TMP\_BUILD\_DIR is actually created
* Modify relative paths of lib, elements for packaging
* Add binaries for setuptools
* Make Ubuntu 13.04 (raring) the default release
* Ignore emacs autosave files in source-repositories
* Provide hint for what package contains qemu-img
* Fix hacking errors
* Add downloadonly flag to fedora
* Fixed up test-requirements
* Add needed symlink for Fedora deployment ramdisk
* Install which on Fedora
* Only remove $TMP\_BUILD\_DIR on cleanup
* Enable running disk-image-create on SUSE Linux
* Update TripleO incubator URL reference
* Support repo names with multiple '-'s
* Set work-dir to cached repository
* Move the getsources hook earlier
* Cache repository-sources data
* Update the Fedora element to honour --offline
* Enable --offline support for Ubuntu root images
* Fix the DIB\_OFFLINE setting to actually work
* Document an interface for offline operation
* Allow 'sudo kpartx -d' used in EACTION for Fedora
* Move end user docs higher up in README.md
* Remove excess whitespace in README.md
* Fedora 19 GRUB
* Fix for mounted readonly filesystem for Fedora 19
* EFI hosts
* F19 GRUB configuration file
* Add package mappings for augeas-tools and openssh-client
* Build ramdisks in an image chroot
* Make cloud-init-nocloud work cross-platform
* Update Fedora cloud image to its latest version
* Adding docs for the source-repositories element
* Use ccache to cache all compiles between builds
* Add environment.d hook to setup environment
* Curl to redo the request (Found 302)
* Fix loop0p2 does not exist on F19
* Add arping to the fedora map-packages
* Fix 50-firmware.rules no such file on Fedora 19
* Add mysql-devel to fedora map-packages
* Fix cache-url to use single '=' in test expression
* Fix cloud-init routing issue on Fedora
* Move functions to common-functions for reuse
* Factor out element processing
* Consolidate more ramdisk and disk-image code
* Fix pyOpenSSL on Fedora
* Improve debugging of missing elements
* Fix unit tests to have accurate return code
* Use the source-repository interface
* Install git with source-repositories element
* Use full path to dib-run-parts during firstboot
* Enable Flake8 F\*\*\* checks
* Switch from pep8 to flake8/hacking
* Re-use cache\_url() in fedora element
* Improve first time download of ubuntu images
* Use dib-run-parts on dib-first-boot
* Reduce duplication between ramdisk and disk image codepaths
* Add mechanism to send error messages to helper
* Make bash troubleshooting configurable
* Make the finalise\_base function less Ubuntu-ish
* Adding element to get source for elements
* deploy element: Call find\_disk in loop w/ timeout
* Add disable-selinux element
* dib-run-parts was failing with empty targets
* Add /usr/local/bin to the secure\_path variable
* Fix cloud-init-nocloud to actually work
* Stop apt-get installing qemu-img
* Change the rootfs label in fedora's /etc/fstab
* Add zlib-devel and qemu-img to fedora map-packages
* Document some dependencies
* Add RedHat support for disk-image-get-kernel
* Add dracut-network element
* Add fedora support for ramdisk-image-create
* Remove obsolete Fedora rc-local install.d hook
* Switch from losetup+partprobe to kpartx for Fedora image creation
* Move package install of dkms to install.d
* Fix fedora element to work with qcow2 images
* Install dkms before using it
* Build all dkms modules near the end of the image build
* Set correct mode for .ssh/authorized\_keys files
* Update sudoers rules for 1PB resizing
* Increase the size heuristic for images
* The ext4 resize fix was faulty - fix it
* Basic wall clock profiling per element script
* Move the ensure\_nbd function call
* Ensure that the ext4 fs can be rebuilt up to 1PB in size
* Force text mode console in base element
* Refactor the first boot routine
* Run fixfiles restore in chroot instead of firstboot
* Trigger SELinux autorelabel on first boot
* An element for putting SELinux in permissive mode
* Fix for running /etc/rc.local on Fedora
* Honor $DIB\_IMAGE\_SIZE
* install redhat-lsb before pre-install.d baseline-tools
* install redhat-lsb-core instead of redhat-lsb
* Enable serial console for fedora
* Fix fedora fstab so / is mounted rw properly
* Add an element to configure a serial console
* Retry losetup -d for up to 10 seconds
* Force the inclusion of /usr/local/bin in PATH
* Tweak the moved cleanup\_dirs to match the original
* Remove img-functions from ramdisk-image-create
* Ignore errors when ldd'ing static binaries
* Extend mellanox support to disk images
* Reinstate support for real hardware with Ubuntu
* Remove tripleo PPA from base element
* Only use tmpfs if build machine has 4GB+ RAM
* Use conditional GET to fetch latest ubuntu image
* Revert "Improve Fedora build host support."
* Fix architecture filter
* Unbreak grub for precise
* Fix GRUB command quote escape for VM element
* Fix GRUB for for precise
* Fix missing export of $ARCH
* Improve Fedora build host support
* Use a different approach to solving the ramdisk-image-create failure
* Source img-functions into common-functions
* Build images using loopdev instead of qemu-nbd
* Add few other packages to the map list for fedora
* Fix up the conflict between audit and glibc packages
* Improve Fedora build host support: architectures
* Fix Ubuntu image fetching
* Fix a small typo in fake init scripts
* Adds support for post-install scripts
* Grab the next available /dev/nbdX
* Allow build dir to be changed from /tmp
* Migrate cloud image URL/Release options to DIB\_
* Introduce the DIB\_ namespace for build-time config
* Fedora element allows root to sudo without TTY
* Generate ssh hostkeys on first-boot
* Add armhf support
* Always include the in-tree elements directory
* Delete elements moved to tripleo-image-elements
* Update README.md for build-time state capture
* Fix mysql migration script to handle errors
* Remove strict sql\_mode setting which breaks apps
* Do not require arguments for os-svc-daemon
* Store build-time settings
* Disable tunneling in quantum-ovs
* Migrate data into MySQL from bootstrap
* Run os-config-applier using os-refresh-config
* Bring os-svc-install element docs up-to-date
* Enable use\_namespaces setting for quantum agents
* Clearly mark unaudited config templates as such
* Replace glance-api+glance-reg elements with glance:
* Streamline upstart scripts in os-svc-daemon
* Add a nova-baremetal element
* Add a quantum element
* Run all openstack services in virtualenvs:
* Add element to run DHCP on all network interfaces
* Create users in mysql server based on metadata
* Set mysql server\_id based on instance-id
* Refactor mysql element to do less in first-boot.d
* Adding cfn-credentials file to heat-cfntools
* remove unnecessary '/usr/local/bin' from install.d
* Install os-config-applier from stackforge repo
* Switch to using the incubator-bootstrap tree
* Fix os-refresh-config failing without scripts
* Remove duplicate file extensions
* Correctly translate all branches/tags/shas:
* Update keystone middleware in cinder api-paste:
* Fix script that installs os-refresh-config scripts
* local-config: Configure proxy for apt and/or yum
* Fix issues causing Fedora images to fail
* Seperate install of services and start scripts:
* Update keystone element to use os-refresh-config
* Make 99-install-config-templates executable:
* Install os-refresh-config scripts automatically
* local-config element adds authorized\_key for root:
* Integrate os-refresh-config with heat-cfntools
* Allow elements to include skeleton config
* Add a cinder element
* Namespace SHA256SUMS file to distro/release/arch
* Fix heat-cfntools to work on Fedora
* Verify Ubuntu Cloud Images using SHA256SUMS
* Fix elements\_path default path
* Use multiple locations for elements dir
* Specify os-refresh-config path in README
* Don't use sudo in base
* Add an openstack all-openstack-db element:
* Devstack element pulls from master
* Fix ramdisk-image-create
* Run alternatives pip -> pip-python
* Install heat-cfntools from pypi
* Support multiple outputs disk formats
* Prevent silent failure of element-info:
* Fix the sudo rules for unpacking fedora raw images
* first-boot.d scripts log to a file:
* Fedora needs to depend on dib-run-parts too
* New element that uses a fedora cloud image as the base
* Add dib-run-parts install command to sudoers.d
* Use dib-run-parts for running scripts in target
* Make populate\_libs() more generic
* Work in progress run-parts replacement
* Move the dpkg specific stuff to a dpkg element rather than being hardcoded
* Change run-parts usage to be compatible with Fedora
* Give stack user passwordless sudo:
* Consolidate common OS installation into a script:
* Bad code landed, causing ubuntu to be always landed
* cloud-init-nocloud element for non-cloud image
* Add cfn-hup configuration for os-refresh-config
* Fix broken pep8 in setup.py
* Add element to call os-refresh-config
* Add default element selection
* Correct misuse of return in ramdisk-image-create
* Fix unnecessarily creating a temporary directory
* ramdisk-image-create shows a failed binary dependency
* The default ARCH was broken due to $ARCH not being exported
* Add missing python-pip dependency in heat-jeos
* Work around cfn API bug in HEAT w/ specific boto
* Move initial root contents into a hook
* Make it possible for openstack-CI to run tests
* Export the ELEMENTS\_DIR so that dependencies work
* Add os-config-applier element
* Split stack user creation out of devstack element
* Improve error message for missing element
* Create install-packages as a binary
* Add option to clear environment
* Switch locale to C
* Add sudoers rule to format and mount anykind of partitions in disks
* Add openstack-all element
* Add element to install config-applier
* Enable 'ec2-user' in HEAT for quantal images
* Add a simple implementation of element dependency
* Disable Apt Recommends
* add default gateway to deploy init script
* Allow manual installation of packages
* Include English locale in base
* Install nova-api from github
* Add Icinga elements
* Add missing whitespace to local-config
* Replace demo references with incubator
* Add an element to install the HEAT JEOS tools
* Install quantum-api from github
* Clean up the MySQL element to make it suitable for generic use
* Fix disk-image-create's getopt error handling:
* Tidy up base element:
* Add guidelines for composing elements
* Copy both http and https proxy to local-config
* Add a test framework for testing elements
* Ignore .pyc files
* Add a .testr.conf configuration and ignore .testrepository
* Add the ability to break into a shell during builds
* Add glance-api element
* Move everything 'common' into base, making it avoidable for tests
* Make it possible to not recompress the qcow2 image at the end
* Added true to avoid exit on error
* updating devstack element to reference incubator
* Add keystone element
* Add copyright to lib/ramdisk-\*
* Generate apt.conf files with correct content, fixes bug 1088805
* Further fleshing out of hwdiscovery element
* Move grub installation to the vm element
* Rename flavour to element
* Configure git proxy settings and prefer http(s) protocol
* Use system resolv.conf file when available
* Remove udev stuff from the source tree
* Add .gitreview file
* Jenkins image fixed
* Reinstate /mnt redirection of jenkins - HPCS cloud images have a very restricted /
* Untrap EXIT before run-parts
* Update hwdiscovery flavour to have lots more structure that we can build on
* fix crappy header
* Updated jenkins flavour
* Make a primitive jenkins image
* be smarter about mounting qcow images
* Use base in all examples
* added br\* filter for interfaces
* adding BASIC hardware discovery
* adding dhclient support
* adding dhclient
* move misplaced salt-master install script
* mount\_qcow\_image should mount p1
* removes AMQP install and adds hwinfo
* added lsmod to default busybox links
* add salt-master flavor
* remove force-xtrace in disk-image-get-kernel
* add some tooling that baremetal-devstack wants
* move tgtd & tgtadm to bin-deps of deploy and remove from lib/ramdisk-functions
* Adding python-AMQPLib install to HWdiscovery
* Fix copyrights for HP work
* Add a flavour for doing generic this-node-is-in-a-cloud stuff, like cloud-init tweaks
* adding mysql flavor (untested)
* Document more about the layers
* Some cleanup on nova-vm flavour
* Add support for flavours to ship udev rules.d files and port over the mellanox variant to use this
* Fix mysql passwords
* Default to 2G in size - 1G is just too small
* Fix handling of parameters that are not set by any flavour for eval\_run\_d
* Make it possible to set a size from within a flavour, and use that for devstack
* Rename baremetal to deploy
* Remove some whitespace
* Update ramdisk building to support init hooks for flavours
* Update docs for ramdisk building
* Add readmes to the ramdisk flavours
* Documented binary-deps feature
* Port old baremetal-mkinitrd.sh to the new image creation standards
* Land an extension of baremetal-mkinitrd.sh which can also build flavours, with a start at making hwdiscovery and hwburning flavours
* Bring across disk image code
* Ignore temporary files
* Support KVM instances - allow /dev/vda to be detected as a disk
* Turn off udev logging, it makes debugging too hard. Better would be to log to a file or something
* change working directory name template
* Rename to baremetal-mkinitrd.sh
* initial commit
