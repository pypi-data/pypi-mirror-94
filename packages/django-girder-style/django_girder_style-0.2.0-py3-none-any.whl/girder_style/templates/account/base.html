{% extends 'base.html' %}

{% load account %}

{% block body %}
<body class="bg-gray-100 flex flex-col h-full relative">

<div class="absolute bg-black bottom-0 left-0 overflow-hidden right-0 top-0 z-0">
  <img
      src="https://images.pexels.com/photos/53176/architecture-iron-steel-building-53176.jpeg?cs=srgb&dl=pexels-pixabay-53176.jpg&fm=jpg"
      class="object-cover opacity-25 w-full"
      alt="">
</div>

<div class="flex flex-initial h-24 items-center justify-between relative w-full z-20">
  <div class="bg-white flex h-full items-center max-w-max px-6 py-4 w-full lg:w-1/2 md:max-w-xl md:px-12 md:w-2/3">
    <div class="max-w-3xs">
      <img src="https://blog.kitware.com/wp-content/uploads/2016/03/Girder_v2.png" class="w-full h-auto" alt="Girder">
    </div>
  </div>
  <ul class="flex flex-grow h-full md:max-w-max lg:px-12">
    {% if user.is_authenticated %}
    <li class="flex flex-grow group relative">
      <span class="cursor-pointer flex flex-row group items-center justify-between p-6 text-center text-secondary-400 text-xs transition-all w-full hover:text-secondary-300 med:justify-center">
        <i class="ri-account-circle-fill opacity-75 mr-2 text-white text-xl transition-all group-hover:opacity-100"></i>
        {% user_display user as user_display %}
        {{ user_display }}
        <i class="ri-arrow-down-s-line opacity-50 ml-2 text-white text-xl transition-all"></i>
      </span>
      <ul class="absolute bg-white hidden left-2 overflow-hidden right-2 rounded shadow-md top-3/4 group-hover:block">
        {% include 'account/snippets/sub_menu_item.html' with url_name='account_email' text='Change E-mail' icon_class='ri-mail-settings-line' only %}
        {% include 'account/snippets/sub_menu_item.html' with url_name='account_change_password' text='Change Password' icon_class='ri-key-2-line' only %}
        {% include 'account/snippets/sub_menu_item.html' with url_name='account_logout' text='Sign Out' icon_class='ri-logout-circle-line' only %}
      </ul>
    </li>
    {% else %}
    {% include 'account/snippets/menu_item.html' with url_name='account_login' text='Sign In' icon_class='ri-user-shared-line' only %}
    {% include 'account/snippets/menu_item.html' with url_name='account_signup' text='Sign Up' icon_class='ri-user-add-line' only %}
    {% endif %}
  </ul>
</div>

<div class="flex flex-auto h-full relative z-10">
  <div class="bg-white h-full overflow-auto shadow-2xl w-full lg:w-1/2 md:max-w-xl md:w-2/3">
    {% if messages %}
    <div id="messages" class="px-12 pt-4">
      <ul>
        {% for message in messages %}
          {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            {% include 'account/snippets/message_item.html' with color='green' icon_class='ri-checkbox-circle-line' message=message only %}
          {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
            {% include 'account/snippets/message_item.html' with color='yellow' icon_class='ri-alert-line' message=message only %}
          {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            {% include 'account/snippets/message_item.html' with color='red' icon_class='ri-spam-3-line' message=message only %}
          {% elif message.level == DEFAULT_MESSAGE_LEVELS.info %}
            {% include 'account/snippets/message_item.html' with color='secondary' icon_class='ri-information-line' message=message only %}
          {% endif %}
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    <div class="px-12 py-20">
      {% block content %}{% endblock %}
    </div>
  </div>
</div>

{% block extra_body %}{% endblock %}
</body>
{% endblock %}
