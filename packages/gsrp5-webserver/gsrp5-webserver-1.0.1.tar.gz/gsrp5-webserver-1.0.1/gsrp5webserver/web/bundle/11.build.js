(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{423:function(e,t,a){var n=a(8),s=a(440);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},439:function(e,t,a){"use strict";a(423)},440:function(e,t,a){(t=a(4)(!1)).push([e.i,"\n.controls[data-v-002d0536] {\n  position: relative;\n}\n",""]),e.exports=t},474:function(e,t,a){"use strict";a.r(t);const n=[0,1,2,3,4,5,6],s={first:0,minutes:60,count:24,height:48},l={default(e){},workday(e){const t=0===e.weekday||6===e.weekday||e.hour<9||e.hour>=17,a=0===e.minute,n=this.dark;return{backgroundColor:t?n?"rgba(0,0,0,0.4)":"rgba(0,0,0,0.05)":void 0,borderTop:a?void 0:"1px dashed "+(n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)")}},past(e){return{backgroundColor:e.past?this.dark?"rgba(0,0,0,0.4)":"rgba(0,0,0,0.05)":void 0}}};var r={name:"gsrp5-o2mschedule-view",props:["metas","meta","model","views","rel","items","o2mfield","parent","root","guid","container"],data:()=>({dark:!1,startMenu:!1,start:"2020-01-12",endMenu:!1,end:"2020-01-27",nowMenu:!1,minWeeks:1,now:null,events:[],colors:["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],names:["Meeting","Holiday","PTO","Travel","Event","Birthday","Conference","Party"],type:"month",typeOptions:[{text:"Day",value:"day"},{text:"4 Day",value:"4day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Custom Daily",value:"custom-daily"},{text:"Custom Weekly",value:"custom-weekly"}],mode:"stack",modeOptions:[{text:"Stack",value:"stack"},{text:"Column",value:"column"}],weekdays:n,weekdaysOptions:[{text:"Sunday - Saturday",value:n},{text:"Mon, Wed, Fri",value:[1,3,5]},{text:"Mon - Fri",value:[1,2,3,4,5]},{text:"Mon - Sun",value:[1,2,3,4,5,6,0]}],intervals:s,intervalsOptions:[{text:"Default",value:s},{text:"Workday",value:{first:16,minutes:30,count:20,height:48}}],maxDays:7,maxDaysOptions:[{text:"7 days",value:7},{text:"5 days",value:5},{text:"4 days",value:4},{text:"3 days",value:3}],styleInterval:"default",styleIntervalOptions:[{text:"Default",value:"default"},{text:"Workday",value:"workday"},{text:"Past",value:"past"}],color:"primary",colorOptions:[{text:"Primary",value:"primary"},{text:"Secondary",value:"secondary"},{text:"Accent",value:"accent"},{text:"Red",value:"red"},{text:"Pink",value:"pink"},{text:"Purple",value:"purple"},{text:"Deep Purple",value:"deep-purple"},{text:"Indigo",value:"indigo"},{text:"Blue",value:"blue"},{text:"Light Blue",value:"light-blue"},{text:"Cyan",value:"cyan"},{text:"Teal",value:"teal"},{text:"Green",value:"green"},{text:"Light Green",value:"light-green"},{text:"Lime",value:"lime"},{text:"Yellow",value:"yellow"},{text:"Amber",value:"amber"},{text:"Orange",value:"orange"},{text:"Deep Orange",value:"deep-orange"},{text:"Brown",value:"brown"},{text:"Blue Gray",value:"blue-gray"},{text:"Gray",value:"gray"},{text:"Black",value:"black"}],shortIntervals:!0,shortMonths:!1,shortWeekdays:!1}),computed:{intervalStyle(){return l[this.styleInterval].bind(this)},hasIntervals(){return this.type in{week:1,day:1,"4day":1,"custom-daily":1}},hasEnd(){return this.type in{"custom-weekly":1,"custom-daily":1}}},methods:{viewDay({date:e}){this.start=e,this.type="day"},getEventColor:e=>e.color,showIntervalLabel:e=>0===e.minute,getEvents({start:e,end:t}){const a=[],n=new Date(e.date+"T00:00:00"),s=new Date(t.date+"T23:59:59"),l=(s.getTime()-n.getTime())/864e5,r=this.rnd(l,l+20);for(let e=0;e<r;e++){const e=0===this.rnd(0,3),t=this.rnd(n.getTime(),s.getTime()),l=new Date(t-t%9e5),r=9e5*this.rnd(2,e?288:8),o=new Date(l.getTime()+r);a.push({name:this.names[this.rnd(0,this.names.length-1)],start:this.formatDate(l,!e),end:this.formatDate(o,!e),color:this.colors[this.rnd(0,this.colors.length-1)]})}this.events=a},rnd:(e,t)=>Math.floor((t-e+1)*Math.random())+e,formatDate:(e,t)=>t?`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}`:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},created:function(){this.$websocket.registerComponent({n:`${this.$options.name}:${this._uid}`,c:this}),this.view=this.views.schedule},mounted:function(){this.fields=Object.keys(this.view.columns),-1==this.fields.indexOf(this.meta.names.from_date)&&this.fields.push(this.meta.names.start_date),-1==this.fields.indexOf(this.meta.names.to_date)&&this.fields.push(this.meta.names.end_date)},beforeDestroy:function(){this.$websocket.unregisterComponent(`${this.$options.name}:${this._uid}`)}},o=(a(439),a(19)),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{staticClass:"mb-4 controls",attrs:{sm:"12",lg:"3"}},[a("v-btn",{attrs:{fab:"",small:"",absolute:"",left:"",color:"primary"},on:{click:function(t){return e.$refs.calendar.prev()}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-chevron-left")])],1),e._v(" "),a("v-btn",{attrs:{fab:"",small:"",absolute:"",right:"",color:"primary"},on:{click:function(t){return e.$refs.calendar.next()}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-chevron-right")])],1),e._v(" "),a("br"),a("br"),a("br"),e._v(" "),a("v-select",{attrs:{items:e.typeOptions,label:"Type","hide-details":"",outlined:"",dense:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Dark","hide-details":""},model:{value:e.dark,callback:function(t){e.dark=t},expression:"dark"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Short intervals","hide-details":""},model:{value:e.shortIntervals,callback:function(t){e.shortIntervals=t},expression:"shortIntervals"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Short months","hide-details":""},model:{value:e.shortMonths,callback:function(t){e.shortMonths=t},expression:"shortMonths"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Short weekdays","hide-details":""},model:{value:e.shortWeekdays,callback:function(t){e.shortWeekdays=t},expression:"shortWeekdays"}}),e._v(" "),a("v-select",{staticClass:"mt-3",attrs:{items:e.colorOptions,label:"Color","hide-details":"",outlined:"",dense:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),a("v-menu",{ref:"startMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.start,transition:"scale-transition","min-width":"290px","offset-y":""},on:{"update:returnValue":function(t){e.start=t},"update:return-value":function(t){e.start=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({staticClass:"mt-3",attrs:{label:"Start Date","prepend-icon":"event",dense:"",readonly:"",outlined:"","hide-details":""},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},n))]}}]),model:{value:e.startMenu,callback:function(t){e.startMenu=t},expression:"startMenu"}},[e._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.startMenu=!1}}},[e._v("\n          Cancel\n        ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.startMenu.save(e.start)}}},[e._v("\n          OK\n        ")])],1)],1),e._v(" "),e.hasEnd?a("v-menu",{ref:"endMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.end,transition:"scale-transition","min-width":"290px","offset-y":""},on:{"update:returnValue":function(t){e.end=t},"update:return-value":function(t){e.end=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({staticClass:"mt-3",attrs:{label:"End Date","prepend-icon":"event",dense:"",readonly:"",outlined:"","hide-details":""},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},n))]}}],null,!1,2144663802),model:{value:e.endMenu,callback:function(t){e.endMenu=t},expression:"endMenu"}},[e._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.endMenu=!1}}},[e._v("\n          Cancel\n        ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.endMenu.save(e.end)}}},[e._v("\n          OK\n        ")])],1)],1):e._e(),e._v(" "),a("v-menu",{ref:"nowMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.now,transition:"scale-transition","min-width":"290px","offset-y":""},on:{"update:returnValue":function(t){e.now=t},"update:return-value":function(t){e.now=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({staticClass:"mt-3",attrs:{label:"Today","prepend-icon":"event",dense:"",readonly:"",outlined:"","hide-details":""},model:{value:e.now,callback:function(t){e.now=t},expression:"now"}},n))]}}]),model:{value:e.nowMenu,callback:function(t){e.nowMenu=t},expression:"nowMenu"}},[e._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.now,callback:function(t){e.now=t},expression:"now"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.nowMenu=!1}}},[e._v("\n          Cancel\n        ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.nowMenu.save(e.now)}}},[e._v("\n          OK\n        ")])],1)],1),e._v(" "),a("v-select",{staticClass:"mt-3",attrs:{items:e.modeOptions,dense:"",outlined:"","hide-details":"",label:"Event Overlap Mode"},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}}),e._v(" "),a("v-select",{staticClass:"mt-3",attrs:{items:e.weekdaysOptions,dense:"",outlined:"","hide-details":"",label:"Weekdays"},model:{value:e.weekdays,callback:function(t){e.weekdays=t},expression:"weekdays"}}),e._v(" "),"custom-weekly"===e.type?a("v-text-field",{staticClass:"mt-3",attrs:{dense:"",outlined:"","hide-details":"",label:"Minimum Weeks",type:"number"},model:{value:e.minWeeks,callback:function(t){e.minWeeks=t},expression:"minWeeks"}}):e._e(),e._v(" "),e.hasIntervals?a("v-select",{staticClass:"mt-3",attrs:{items:e.intervalsOptions,dense:"",outlined:"","hide-details":"",label:"Intervals"},model:{value:e.intervals,callback:function(t){e.intervals=t},expression:"intervals"}}):e._e(),e._v(" "),"custom-daily"===e.type?a("v-select",{staticClass:"mt-3",attrs:{items:e.maxDaysOptions,dense:"",outlined:"","hide-details":"",label:"# of Days"},model:{value:e.maxDays,callback:function(t){e.maxDays=t},expression:"maxDays"}}):e._e(),e._v(" "),e.hasIntervals?a("v-select",{staticClass:"mt-3",attrs:{items:e.styleIntervalOptions,dense:"",outlined:"","hide-details":"",label:"Styling"},model:{value:e.styleInterval,callback:function(t){e.styleInterval=t},expression:"styleInterval"}}):e._e()],1),e._v(" "),a("v-col",{staticClass:"pl-4",attrs:{sm:"12",lg:"9"}},[a("v-sheet",{attrs:{height:"600"}},[a("v-calendar",{ref:"calendar",attrs:{type:e.type,start:e.start,end:e.end,"min-weeks":e.minWeeks,"max-days":e.maxDays,now:e.now,dark:e.dark,weekdays:e.weekdays,"first-interval":e.intervals.first,"interval-minutes":e.intervals.minutes,"interval-count":e.intervals.count,"interval-height":e.intervals.height,"interval-style":e.intervalStyle,"show-interval-label":e.showIntervalLabel,"short-intervals":e.shortIntervals,"short-months":e.shortMonths,"short-weekdays":e.shortWeekdays,color:e.color,events:e.events,"event-overlap-mode":e.mode,"event-overlap-threshold":45,"event-color":e.getEventColor},on:{change:e.getEvents},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}})],1)],1)],1)}),[],!1,null,"002d0536",null);t.default=i.exports}}]);