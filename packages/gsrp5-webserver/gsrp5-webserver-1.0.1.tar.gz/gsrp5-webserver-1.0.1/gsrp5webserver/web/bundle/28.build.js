(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{477:function(t,e,a){"use strict";a.r(e);var s={name:"gsrp5-o2mgraph-view",props:["metas","model"],data:function(){return{meta:{},views:{},view:null,name:null,actions:{},chartSettings:{},chartType:"ColumnChart",chartData:null,chartOptions:{},f:[],l:[],enableCharts:[{text:"Column Chart",value:"ColumnChart"},{text:"Pie Chart",value:"PieChart"},{text:"Bar Chart",value:"BarChart"},{text:"Bubble Chart",value:"BubbleChart"},{text:"Combo Chart",value:"ComboChart"},{text:"Stepped Area Chart",value:"SteppedAreaChart"},{text:"Table",value:"Table"},{text:"Histogram",value:"Histogram"},{text:"Line Chart",value:"LineChart"},{text:"Area Chart",value:"AreaChart"}]}},methods:{onLoadData:function(t){let e=[],a=[];e.push(this.l);for(let s=0;s<t.length;s++){for(let e in t[s])"id"!=e&&a.push(t[s][e]);e.push(a),a=[]}this.$set(this,"chartData",e),this.chartOptions={chart:{title:this.meta.description}}}},mixins:[{methods:{send:a(10).C}}],created(){this.$websocket.registerComponent({n:`${this.$options.name}:${this._uid}`,c:this})},mounted(){this.meta=this.metas[this.model].meta,this.views=this.metas[this.model].views,this.view=this.views.form,this.name=this.meta.description,this.actions=this.meta.actions,this.fields=Object.keys(this.view.columns),this.f.push(this.meta.names.date),this.l.push(this.meta.columns[this.meta.names.date].label);for(let t=0;t<this.fields.length;t++)-1!=["integer","float","double","real","numeric","decimal"].indexOf(this.meta.columns[this.fields[t]].type)&&(this.f.push(this.fields[t]),this.l.push(this.meta.columns[this.fields[t]].label));this.send("onLoadData",["models",this.model,"select",{fields:this.f,cond:[],context:{FETCH:"DICT"}}])},beforeDestroy(){this.$websocket.unregisterComponent(`${this.$options.name}:${this._uid}`)}},i=a(19),h=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs2:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{attrs:{items:t.enableCharts},model:{value:t.chartType,callback:function(e){t.chartType=e},expression:"chartType"}}),t._v(" "),a("GChart",{attrs:{type:t.chartType,data:t.chartData,options:t.chartOptions}})],1)}),[],!1,null,null,null);e.default=h.exports}}]);