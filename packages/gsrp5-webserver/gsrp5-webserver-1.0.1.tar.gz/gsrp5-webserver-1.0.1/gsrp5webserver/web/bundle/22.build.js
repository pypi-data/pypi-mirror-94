(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{471:function(e,t,s){"use strict";s.r(t);var a={name:"gsrp5-calendar-view",props:["metas","model"],data:()=>({fields:[],meta:{},views:{},view:null,name:null,actions:{},type:"month",types:["month","week","day","4day"],mode:"stack",modes:["stack","column"],weekday:[0,1,2,3,4,5,6],weekdays:[{text:"Sun - Sat",value:[0,1,2,3,4,5,6]},{text:"Mon - Sun",value:[1,2,3,4,5,6,0]},{text:"Mon - Fri",value:[1,2,3,4,5]},{text:"Mon, Wed, Fri",value:[1,3,5]}],value:"",events:[],colors:["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],names:["Meeting","Holiday","PTO","Travel","Event","Birthday","Conference","Party"]}),methods:{onLoadMeta:function(e){this.fields=Object.keys(this.view.columns),-1==this.fields.indexOf(this.meta.names.from_date)&&this.fields.push(this.meta.names.start_date),-1==this.fields.indexOf(this.meta.names.to_date)&&this.fields.push(this.meta.names.end_date)},on_schedule:function(e){e.length},getEvents({start:e,end:t}){const s=[],a=new Date(e.date+"T00:00:00"),n=new Date(t.date+"T23:59:59"),i=(n.getTime()-a.getTime())/864e5,o=this.rnd(i,i+20);for(let e=0;e<o;e++){const e=0===this.rnd(0,3),t=this.rnd(a.getTime(),n.getTime()),i=new Date(t-t%9e5),o=9e5*this.rnd(2,e?288:8),l=new Date(i.getTime()+o);s.push({name:this.names[this.rnd(0,this.names.length-1)],start:this.formatDate(i,!e),end:this.formatDate(l,!e),color:this.colors[this.rnd(0,this.colors.length-1)]})}this.events=s},getEventColor:e=>e.color,rnd:(e,t)=>Math.floor((t-e+1)*Math.random())+e,formatDate:(e,t)=>t?`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}`:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},mixins:[{methods:{send:s(10).C}}],created:function(){this.$websocket.registerComponent({n:`${this.$options.name}:${this._uid}`,c:this})},mounted:function(){this.meta=this.metas[this.model].meta,this.views=this.metas[this.model].views,this.view=this.views.calendar,this.name=this.meta.description,this.actions=this.meta.actions},beforeDestroy:function(){this.$websocket.unregisterComponent(`${this.$options.name}:${this._uid}`)}},n=s(19),i=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-sheet",{staticClass:"d-flex",attrs:{tile:"",height:"54",color:"grey lighten-3"}},[s("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[s("v-icon",[e._v("mdi-chevron-left")])],1),e._v(" "),s("v-select",{staticClass:"ma-2",attrs:{items:e.types,dense:"",outlined:"","hide-details":"",label:"type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),s("v-select",{staticClass:"ma-2",attrs:{items:e.modes,dense:"",outlined:"","hide-details":"",label:"event-overlap-mode"},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}}),e._v(" "),s("v-select",{staticClass:"ma-2",attrs:{items:e.weekdays,dense:"",outlined:"","hide-details":"",label:"weekdays"},model:{value:e.weekday,callback:function(t){e.weekday=t},expression:"weekday"}}),e._v(" "),s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[s("v-icon",[e._v("mdi-chevron-right")])],1)],1),e._v(" "),s("v-sheet",{attrs:{height:"600"}},[s("v-calendar",{ref:"calendar",attrs:{weekdays:e.weekday,type:e.type,events:e.events,"event-overlap-mode":e.mode,"event-overlap-threshold":30,"event-color":e.getEventColor},on:{change:e.getEvents},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)}),[],!1,null,null,null);t.default=i.exports}}]);