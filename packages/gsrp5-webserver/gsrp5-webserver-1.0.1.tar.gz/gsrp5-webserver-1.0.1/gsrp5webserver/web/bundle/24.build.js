(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{489:function(e,t,a){"use strict";a.r(t);var i=a(10),n=(a(20),{name:"gsrp5-form-view-modal",data:()=>({swipeDirection:"None",metas:null,meta:null,views:null,mode:"new",model:null,path:null,root:null,name:null,obj:null,rel:null,idx:-1,guid:null,oids:null,active:null,dialog:!0,valid:!1,rules:{},view:{},selected:[],menu:{},fields:[],formfields:[],o2mfields:[],selectionFrom:{},selectionFromForm:{},c:{},d:{},m:{},item:null}),watch:{dialog(e){e||this.close()},importedData:{handler(){this.checkData()},deep:!0}},mixins:[{methods:{on_new_many2one:i.s,on_detail_many2one:i.h,on_edit_many2one:i.j,on_find_many2one:i.m,on_find_many2one_update:i.n,on_new_related:i.t,on_detail_related:i.i,on_edit_related:i.k,on_find_related:i.o,on_find_related_update:i.p,readonly:i.v,required:i.z,m2o_new:i.d,m2o_put:i.e,related_new:i.x,related_put:i.y,on_modify_models:i.r,visible:i.D,cache:i.a,on_cache:i.f,m2o_cache:i.c,on_m2o_cache:i.q,related_cache:i.w,on_related_cache:i.u,send:i.C}}],methods:{swipe(e){this.swipeDirection=e},validate(){this.$refs.form.validate()?this.snackbar=!0:this.snackbar=!1},clear(){this.d={},this.c={},this.m={},this.send("onInitialize",["_cache","initialize",this.guid,{model:this.model,view:"form"}])},on_selected(e){this.selected=e},_fieldsBuild(e,t,a){let i,n,_;for(let l=0;l<t.length;l++)switch(i=t[l],this.metas[e].meta.columns[i].type){case"one2many":if(_=this.metas[e].meta.columns[i].obj,i in a[1]&&_!=a[1][i])continue;_ in this.metas&&-1==this.o2mfields.indexOf(i)&&(n={},i==this.metas[e].meta.names.childs_id?n[i]=Object.keys(this.metas[_].views.list.columns):n[i]=this._fieldsBuild(_,Object.keys(this.metas[_].views.list.columns),this.metas[_].meta.schema),t[l]=n);break;case"many2many":n={},_=this.metas[e].meta.columns[i].obj,n[i]=Object.keys(this.metas[_].views.m2mlist.columns),t[l]=n;break;case"referenced":let s=this.metas[e].meta.columns[i].ref.split(".");_=this.metas[e].meta.columns[s[0]].obj}return t},previewImage:function(e){var t=e.target;if(t.files&&t.files[0]){var a=new FileReader;a.onload=e=>{this.$set(this.item,t.name,e.target.result)},a.readAsDataURL(t.files[0])}},clearImage:function(e,t){e.__data__[t]="";let a={path:e.__path__,key:t,value:e.__data__[t],context:{}};this.send(".ws-dummy",["_cache","cache",this.guid,a])},buildFormFields(){let e=[];for(let t=0,a=Object.keys(this.view.columns);t<a.length;t++)["many2many","one2one","one2many","referenced"].indexOf(this.meta.columns[a[t]].type)<0&&(this.rules[a[t]]=[]),"selection"==this.meta.columns[a[t]].type&&(this.selectionFromForm[a[t]]=Object(i.B)(this.metas[this.model].meta.columns[a[t]].selections),this.selectionFrom[a[t]]=Object(i.A)(this.metas[this.model].meta.columns[a[t]].selections)),["one2many"].indexOf(this.meta.columns[a[t]].type)<0?e.push(a[t]):this.o2mfields.indexOf(a[t])<0&&this.o2mfields.push(a[t]),["date","time","datetime"].indexOf(this.meta.columns[a[t]].type)<0&&(this.menu[a[t]]=!1);for(let e in this.rules)1==this.meta.columns[e].required&&this.rules[e].push(t=>!!t||this.meta.columns[e].label+" is required"),"pattern"in this.meta.columns[e]&&null!=this.meta.columns[e].pattern&&this.rules[e].push(t=>new RegExp(this.meta.columns[e].pattern).test(t)||this.meta.columns[e].label+" must be valid for paterrn:"+this.meta.columns[e].pattern);return e},close(){this.$destroy(),this.$el.remove(),this.dialog=!1},save(){"new"!=this.mode&&"edit"!=this.mode||this.send("onSave",["_cache","save",this.guid,{}])},onSave(e){"commit"==e[0]&&this.send("onUpdate",["models",this.model,"readforupdate",{fields:this.fields,ids:e[1],context:{cache:this.guid}}]),"no chache"==e[0]&&this.$snotify.info("No cache.")},onInitialize(e){this.$set(this,"item",e[0]),this.formfields=this.buildFormFields()},onUpdate(e){let t={},a=this.meta.names.rec_name?this.meta.names.rec_name:"value";switch(this.role){case"many2one-new":t.obj=this.obj,t.rel=this.rel,t.v={id:e[0].__data__.id,name:e[0].__data__[a],idx:this.idx,item:this.item_find},this.$websocket._components[this.obj].m2o_new(t.rel,t.v);break;case"related-new":t.obj=this.obj,t.rel=this.rel,t.v={id:e[0].__data__.id,name:e[0].__data__[a],idx:this.idx,item:this.item_find},this.$websocket._components[this.obj].related_new(t.rel,t.v)}this.send(".ws-log",["_cache","commit",this.guid,{action:"commit work"}]),this.$snotify.info("Record saved."),this.dialog=!1},onLoadMeta:function(e){this.metas=e[0],this.meta=this.metas[this.model].meta,this.views=this.metas[this.model].views,this.view=this.views.form,this.name=this.meta.description,this.actions=this.meta.actions,this.$set(this,"fields",this._fieldsBuild(this.model,Object.keys(this.view.columns),this.meta.schema)),["many2one-detail","many2one-edit","related-detail","related-edit"].indexOf(this.role)>=0?(this.formfields=this.buildFormFields(),this.send("onRead",["models",this.model,"readforupdate",{fields:this.fields,ids:this.item_find.__data__[this.rel].id,context:{cache:this.guid}}])):this.send("onInitialize",["_cache","initialize",this.guid,{model:this.model,view:"form"}]),this.$set(this,"root",`${this.$options.name}:${this._uid}`)},onOpen(e){null==this.guid&&(this.guid=e[0]),this.send("onLoadMeta",["uis","get_meta_of_models_v2",{model:this.model,context:this.$root.context}])},do_action(e,t){this.send("onAction",["_cache","action",this.guid,{path:t.__path__,name:e}])},onAction(e){console.log("On Action MSG:",e)},dataRowContainer(e,t){for(let a in e){a+"."+t in this.c||this.$set(this.c,a+"."+t,e[a]);for(let t=0;t<e[a].length;t++)this.dataRow(e[a][t])}},dataRow(e){"__data__"in e&&this.$set(this.d,e.__path__,e.__data__),"__meta__"in e&&this.$set(this.m,e.__path__,e.__meta__),"__m2m_containers__"in e&&this.dataRowContainer(e.__m2m_containers__,e.__path__),"__o2m_containers__"in e&&this.dataRowContainer(e.__o2m_containers__,e.__path__)},onRead:function(e){e.length>0?(this.c={},this.d={},this.item=e[0],this.dataRow(this.item)):this.clear()}},created:function(){"new"==this.mode&&this.$set(this,"root",`${this.$options.name}:${this._uid}`)},mounted:function(){this.$websocket.registerComponent({n:`${this.$options.name}:${this._uid}`,c:this}),this.send("onOpen",["_cache","open",{mode:this.mode,context:{}}])},beforeDestroy:function(){this.$websocket.unregisterComponent(`${this.$options.name}:${this._uid}`)}}),_=a(19),l=Object(_.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"900px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[null!=e.view?a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.mode)+": "+e._s(e.name))])]),e._v(" "),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(){return e.swipe("Left")},right:function(){return e.swipe("Right")},up:function(){return e.swipe("Up")},down:function(){return e.swipe("Down")}},expression:"{\n\t\t\t      left: () => swipe('Left'),\n\t\t\t      right: () => swipe('Right'),\n\t\t\t      up: () => swipe('Up'),\n\t\t\t      down: () => swipe('Down')\n\t\t\t    }"}],attrs:{column:""}},[null!=e.item?a("v-form",{ref:"form",attrs:{"lazy-validation":!0},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[Object.keys(e.actions).length>0?[a("h3",[e._v("Actions")]),e._v(" "),a("v-layout",{attrs:{row:""}},e._l(e.actions,(function(t,i){return a("v-btn",{key:i,attrs:{fab:"",dark:"",small:"",color:"purple darken-2"},on:{click:function(t){return e.do_action(i,e.item)}}},[e._v(e._s(t.icon))])})),1)]:e._e(),e._v(" "),e._l(e.formfields,(function(t){return[["char","varchar","composite"].indexOf(e.meta.columns[t].type)>=0?[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"",counter:null!=e.meta.columns[t].size?e.meta.columns[t].size:1024},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:["text","xml"].indexOf(e.meta.columns[t].type)>=0?[a("v-textarea",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"",counter:null!=e.meta.columns[t].size?e.meta.columns[t].size:1024},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:["json"].indexOf(e.meta.columns[t].type)>=0?[e._v(e._s(JSON.stringify(e.item.__data__[t],null,4)))]:"many2one"==e.meta.columns[t].type?[a("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{row:""}},[a("v-text-field",{attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:""},on:{change:function(a){return e.m2o_cache(e.item,t)}},model:{value:e.item.__data__[t].name,callback:function(a){e.$set(e.item.__data__[t],"name",a)},expression:"item.__data__[field].name"}}),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(a){return e.on_detail_many2one(e.item,t)}}},[e._v("remove_red_eye")]),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(a){return e.on_edit_many2one(e.item,t)}}},[e._v("edit")]),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:e.readonly(e.item.__path__,t)},on:{click:function(a){return e.on_new_many2one(e.item,t)}}},[e._v("add")]),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return e.on_find_many2one(e.item,t)}}},[e._v("search")])],1)]:"related"==e.meta.columns[t].type?[a("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{row:""}},[a("v-text-field",{attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:""},on:{change:function(a){return e.related_cache(e.item,t,e.meta.columns[t].relatedy)}},model:{value:e.item.__data__[t].name,callback:function(a){e.$set(e.item.__data__[t],"name",a)},expression:"item.__data__[field].name"}}),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(a){return e.on_detail_related(e.item,t)}}},[e._v("remove_red_eye")]),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(a){return e.on_edit_related(e.item,t)}}},[e._v("edit")]),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:e.readonly(e.item.__path__,t)},on:{click:function(a){return e.on_new_related(e.item,t)}}},[e._v("add")]),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return e.on_find_related(e.item,t)}}},[e._v("search")])],1)]:"selection"==e.meta.columns[t].type?[a("v-autocomplete",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,disabled:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),items:e.selectionFrom[t],"prepend-icon":null!=e.meta.columns[t].compute?"functions":"","hide-details":""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:"boolean"==e.meta.columns[t].type?[a("v-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,disabled:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),"prepend-icon":null!=e.meta.columns[t].compute?"functions":"","hide-details":""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:"datetime"==e.meta.columns[t].type?[a("v-datetime-picker",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),locale:"ru-ru",format:"YYYY-MM-DD HH:mm:ss Z"},on:{input:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:"date"==e.meta.columns[t].type?[a("v-menu",{ref:t,refInFor:!0,attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.item.__data__[t],transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.item.__data__,t,a)},"update:return-value":function(a){return e.$set(e.item.__data__,t,a)}},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("v-text-field",e._g({directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,"prepend-icon":"event",readonly:""},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}},n)),e._v('ref="sv"\n\t\t\t\t        ')]}}],null,!0),model:{value:e.menu[t],callback:function(a){e.$set(e.menu,t,a)},expression:"menu[field]"}},[e._v(" "),a("v-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),locale:"ru-ru",color:"green lighten-1","no-title":"",scrollable:""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}}),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){e.menu[t]=!1}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){return e.$refs[t][0].save(e.item.__data__[t])}}},[e._v("OK")])],1)]:"time"==e.meta.columns[t].type?[a("v-menu",{ref:t,refInFor:!0,attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.item.__data__[t],transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.item.__data__,t,a)},"update:return-value":function(a){return e.$set(e.item.__data__,t,a)}},scopedSlots:e._u([{key:"activator",fn:function(i){return i.on,[a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name},on:{click:function(a){return e.on_edit_many2one(e.item,t)}}},[e._v("edit")]),e._v('\n\t\t\t\t            v-model="item.__data__[field]"\n\t\t\t\t            :label="meta.columns[field].label"\n\t\t\t\t            prepend-icon="access_time"\n\t\t\t\t            readonly\n\t\t\t\t            v-on="on"\n\t\t\t\t            v-show="visible(item.__path__,field)"\n\t\t\t\t          >')]}}],null,!0),model:{value:e.menu[t],callback:function(a){e.$set(e.menu,t,a)},expression:"menu[field]"}},[e._v(" "),a("v-time-picker",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),"prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})],1)]:"timedelta"==e.meta.columns[t].type?[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:"integer"==e.meta.columns[t].type||"float"==e.meta.columns[t].type||"double"==e.meta.columns[t].type||"real"==e.meta.columns[t].type||"decimal"==e.meta.columns[t].type?[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:"numeric"==e.meta.columns[t].type?[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),lazy:"",clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]:"binary"==e.meta.columns[t].type?[a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}]},[a("v-card-title",[a("span",[e._v(e._s(e.meta.columns[t].label))])]),e._v(" "),a("v-responsive",[a("v-img",{staticClass:"preview",attrs:{src:e.item.__data__[t]?e.item.__data__[t]:"",width:"128px",height:"128px"}})],1),e._v(" "),a("v-card-actions",[a("div",{staticClass:"image-preview"},[a("input",{attrs:{type:"file",accept:e.meta.columns[t].accept,name:t,disabled:e.readonly(e.item.__path__,t)},on:{change:e.previewImage}}),e._v(" "),null!=e.item.__data__[t]&&e.item.__data__[t].length>0?a("v-icon",{on:{click:function(a){return e.clearImage(e.item,t)}}},[e._v(" clear")]):e._e()],1),e._v(" "),a("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name},on:{click:function(a){return e.on_edit_many2one(e.item,t)}}},[e._v("edit")])],1)],1)]:"icon"==e.meta.columns[t].type?[a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}]},[a("v-card-title",[a("span",[e._v(e._s(e.meta.columns[t].label))])]),e._v(" "),a("v-responsive",[a("v-img",{staticClass:"preview",attrs:{src:e.item.__data__[t]?e.item.__data__[t]:"",width:"75%",height:"75%"}})],1),e._v(" "),a("v-card-actions",[a("div",{staticClass:"image-preview"},[a("input",{attrs:{type:"file",accept:e.meta.columns[t].accept,name:t,disabled:e.readonly(e.item.__path__,t)},on:{change:e.previewImage}}),e._v(" "),null!=e.item.__data__[t]&&e.item.__data__[t].length>0?a("v-icon",{on:{click:function(a){return e.clearImage(e.item,t)}}},[e._v(" clear")]):e._e()],1)])],1)]:"many2many"==e.meta.columns[t].type?[a("gsrp5-m2mlist-view",{attrs:{metas:e.metas,meta:e.metas[e.meta.columns[t].obj].meta,model:e.item.__model__,view:e.metas[e.meta.columns[t].obj].views.m2mlist,items:e.item.__m2m_containers__[t],field:t,item_find:e.item.__data__[t],guid:e.guid,parent:e.item.__path__,container:t+"."+e.item.__path__,obj:e.meta.columns[t].obj,rel:e.meta.columns[t].rel,id1:e.item.__data__.id,root:e.root}})]:"referenced"==e.meta.columns[t].type?[["many2one","related"].indexOf(e.meta.columns[t].reftype)>=0?[e._v(e._s(e.item.__data__[t].name))]:"selection"==e.meta.columns[t].reftype?[e._v(e._s(e.selectionFromForm[t][e.item.__data__[t]]))]:"datetime"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatDatetime")(e.item.__data__[t])))]:"date"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatDate")(e.item.__data__[t])))]:"time"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatTime")(e.item.__data__[t])))]:"timedelta"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatTimedelta")(e.item.__data__[t])))]:("integer"==e.meta.columns[t].reftype||"float"==e.meta.columns[t].reftype||"double"==e.meta.columns[t].reftype||"real"==e.meta.columns[t].reftype||"decimal"==e.meta.columns[t].reftype||e.meta.columns[t].reftype,[e._v(e._s(e.item.__data__[t]))])]:[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(a){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(a){e.$set(e.item.__data__,t,a)},expression:"item.__data__[field]"}})]]})),e._v(" "),e.o2mfields.length>0?[a("v-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tabs-slider",{attrs:{color:"yellow"}}),e._v(" "),e._l(e.o2mfields,(function(t,i){return a("v-tab",{directives:[{name:"show",rawName:"v-show",value:e.visible(t),expression:"visible(o2mfield)"}],key:i,attrs:{href:"#tab-"+t}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.meta.columns[t].label)+"\n\t\t\t\t\t\t\t")])})),e._v(" "),a("v-tabs-items",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.o2mfields,(function(t,i){return a("v-tab-item",{key:i,attrs:{value:"tab-"+t}},[a("gsrp5-o2mtabs-component",{attrs:{metas:e.metas,meta:e.metas[e.meta.columns[t].obj].meta,model:e.meta.columns[t].obj,views:e.metas[e.meta.columns[t].obj].views,items:"__o2m_containers__"in e.item?e.item.__o2m_containers__[t]:[],rel:e.meta.columns[t].rel,mode:"readonly"==e.mode||e.readonly(t)?"readonly":e.mode,role:"role",o2mfield:t,root:e.root,guid:e.guid,container:t+"."+e.item.__path__,parent:e.item.__path__}})],1)})),1)],2)]:e._e()],2):e._e()],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{color:"error",text:"",disabled:"lookup"==e.mode},nativeOn:{click:function(t){return e.clear(t)}}},[e._v("Clear")]),e._v(" "),a("v-btn",{attrs:{disabled:"lookup"==e.mode||!e.valid,color:"blue darken-1",text:""},nativeOn:{click:function(t){return e.save(t)}}},[e._v("Save")]),e._v(" "),a("v-btn",{attrs:{disabled:"lookup"==e.mode,color:"success",text:""},nativeOn:{click:function(t){return e.validate(t)}}},[e._v("Validate")])],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=l.exports}}]);