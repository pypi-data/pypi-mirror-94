(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{487:function(e,t,i){"use strict";i.r(t);var a=i(10),n=(i(20),{name:"gsrp5-form-view",props:["metas","model","mode"],data:()=>({swipeDirection:"None",page:1,circle:!0,disabled:!1,length:1,nextIcon:"mdi-menu-left",prevIcon:"mdi-menu-right",totalVisible:10,meta:null,views:null,root:null,name:null,obj:null,rel:null,idx:-1,guid:null,oids:null,active:null,dialog:!0,valid:!1,rules:{},view:{},selected:[],menu:{},fields:[],formfields:[],o2mfields:[],template:null,selectionFrom:{},selectionFromForm:{},c:{},d:{},m:{},item:null,actions:{}}),watch:{dialog(e){e||this.close()},importedData:{handler(){this.checkData()},deep:!0}},mixins:[{methods:{on_new_many2one:a.s,on_detail_many2one:a.h,on_edit_many2one:a.j,on_find_many2one:a.m,on_find_many2one_update:a.n,on_new_related:a.t,on_detail_related:a.i,on_edit_related:a.k,on_find_related:a.o,on_find_related_update:a.p,readonly:a.v,required:a.z,m2o_new:a.d,m2o_put:a.e,related_new:a.x,related_put:a.y,on_modify_models:a.r,visible:a.D,cache:a.a,on_cache:a.f,m2o_cache:a.c,on_m2o_cache:a.q,related_cache:a.w,on_related_cache:a.u,send:a.C}}],methods:{swipe(e){this.swipeDirection=e},on_input_pagination(e){this.$parent&&this.$parent.selected.length>0&&this.send("onRead",["models",this.model,"readforupdate",{fields:this.fields,ids:this.$parent.selected[e-1].id,context:{cache:this.guid}}])},validate(){this.$refs.form.validate()?this.snackbar=!0:this.snackbar=!1},clear(){this.d={},this.c={},this.m={},this.send("onInitialize",["_cache","initialize",this.guid,{model:this.model,view:"form"}])},on_selected(e){this.selected=e},_fieldsBuild(e,t,i){let a,n,s;for(let o=0;o<t.length;o++)switch(a=t[o],this.metas[e].meta.columns[a],this.metas[e].meta.columns[a].type){case"one2many":if(s=this.metas[e].meta.columns[a].obj,a in i[1]&&s!=i[1][a])continue;s in this.metas&&-1==this.o2mfields.indexOf(a)&&(n={},a==this.metas[e].meta.names.childs_id?n[a]=Object.keys(this.metas[s].views.list.columns):n[a]=this._fieldsBuild(s,Object.keys(this.metas[s].views.list.columns),this.metas[s].meta.schema),t[o]=n);break;case"many2many":n={},s=this.metas[e].meta.columns[a].obj,n[a]=Object.keys(this.metas[s].views.m2mlist.columns),t[o]=n;break;case"referenced":let _=this.metas[e].meta.columns[a].ref.split(".");s=this.metas[e].meta.columns[_[0]].obj}return t},previewImage:function(e){var t=e.target;if(t.files&&t.files[0]){var i=new FileReader;i.onload=e=>{this.$set(this.item.__data__,t.name,e.target.result),console.log("EVENT:",e);let i={path:this.item.__path__,key:t.name,value:this.item.__data__[t.name],context:{}};this.send(".ws-dummy",["_cache","cache",this.guid,i])},i.readAsDataURL(t.files[0])}},clearImage:function(e,t){e.__data__[t]="";let i={path:e.__path__,key:t,value:e.__data__[t],context:{}};this.send(".ws-dummy",["_cache","cache",this.guid,i])},buildFormFields(){let e=[];for(let t=0,i=Object.keys(this.view.columns);t<i.length;t++)["many2many","one2one","one2many","referenced"].indexOf(this.meta.columns[i[t]].type)<0&&(this.rules[i[t]]=[]),"selection"==this.meta.columns[i[t]].type&&(this.selectionFromForm[i[t]]=Object(a.B)(this.metas[this.model].meta.columns[i[t]].selections),this.selectionFrom[i[t]]=Object(a.A)(this.metas[this.model].meta.columns[i[t]].selections)),["one2many"].indexOf(this.meta.columns[i[t]].type)<0?e.push(i[t]):this.o2mfields.indexOf(i[t])<0&&this.o2mfields.push(i[t]),["date","time","datetime"].indexOf(this.meta.columns[i[t]].type)<0&&(this.menu[i[t]]=!1);for(let e in this.rules)1==this.meta.columns[e].required&&this.rules[e].push(t=>!!t||this.meta.columns[e].label+" is required"),"pattern"in this.meta.columns[e]&&null!=this.meta.columns[e].pattern&&this.rules[e].push(t=>new RegExp(this.meta.columns[e].pattern).test(t)||this.meta.columns[e].label+" must be valid for paterrn:"+this.meta.columns[e].pattern);return e},close(){this.$destroy(),this.$el.remove(),this.dialog=!1},copy(){"copy"==this.mode&&this.send("onCopy",["_cache","copy",this.guid,{}])},save(){"new"!=this.mode&&"edit"!=this.mode||this.send("onSave",["_cache","save",this.guid,{}])},onSave(e){let t=e[0];"commit"==t&&this.send("onCommit",["_cache","commit",this.guid,{action:"commit work"}]),"no chache"==t&&this.$snotify.info("No cache")},onCopy(e){let t=e[0];"commit"==t&&this.send("onCopyCommit",["_cache","commit",this.guid,{action:"commit work"}]),"no chache"==t&&this.$snotify.info("No cache")},onCommit(){"new"==this.mode&&(this.d={},this.c={},this.m={},this.send("onInitialize",["_cache","initialize",this.guid,{model:this.model,view:"form"}])),this.$snotify.info("Record saved.")},onCopyCommit(){this.$snotify.info("Record copied.")},onInitialize(e){this.$set(this,"item",e[0]),this.dataRow(this.item),this.formfields=this.buildFormFields()},onUpdate(e){let t={},i=this.meta.names.rec_name?this.meta.names.rec_name:"value";switch(this.role){case"many2one-new":case"related-new":t.obj=this.obj,t.rel=this.rel,t.v={id:e[0].id,name:e[0][i],idx:this.idx,item:this.item_find}}this.send(".ws-log",["_cache","commit",this.guid,{action:"commit work"}])},onLoadMeta:function(e){this.send("onInitialize",["_cache","initialize",this.guid,{model:this.model,view:"form"}]),this.$set(this,"root",`${this.$options.name}:${this._uid}`)},onOpen(e){switch(null==this.guid&&(this.guid=e[0]),this.mode){case"new":this.send("onInitialize",["_cache","initialize",this.guid,{model:this.model,view:"form",context:{}}]),this.$set(this,"root",`${this.$options.name}:${this._uid}`);break;case"lookup":case"copy":case"edit":this.formfields=this.buildFormFields(),this.$set(this,"root",`${this.$options.name}:${this._uid}`),this.$parent.selected.length>0&&this.send("onRead",["models",this.model,"readforupdate",{fields:this.fields,ids:this.$parent.selected[0].id,context:{cache:this.guid}}])}},do_action(e,t){this.send("onAction",["_cache","action",this.guid,{path:t.__path__,name:e}])},onAction(e){console.log("On Action MSG:",e)},dataRowContainer(e,t){for(let i in e){i+"."+t in this.c||this.$set(this.c,i+"."+t,e[i]);for(let t=0;t<e[i].length;t++)this.dataRow(e[i][t])}},dataRow(e){"__data__"in e&&this.$set(this.d,e.__path__,e.__data__),"__meta__"in e&&this.$set(this.m,e.__path__,e.__meta__),"__m2m_containers__"in e&&this.dataRowContainer(e.__m2m_containers__,e.__path__),"__o2m_containers__"in e&&this.dataRowContainer(e.__o2m_containers__,e.__path__)},onRead:function(e){e.length>0?(this.c={},this.d={},this.item=e[0],this.dataRow(this.item)):this.clear(),this.$set(this,"root",`${this.$options.name}:${this._uid}`)}},created:function(){this.$websocket.registerComponent({n:`${this.$options.name}:${this._uid}`,c:this}),"new"==this.mode&&this.$set(this,"root",`${this.$options.name}:${this._uid}`)},mounted:function(){this.meta=this.metas[this.model].meta,this.views=this.metas[this.model].views,this.view=this.views.form,this.name=this.meta.description,this.actions=this.meta.actions,this.length=this.$parent?this.$parent.selected.length:0,this.$set(this,"fields",this._fieldsBuild(this.model,Object.keys(this.view.columns),this.meta.schema)),this.send("onOpen",["_cache","open",{mode:this.mode,context:{}}])},beforeDestroy:function(){this.$websocket.unregisterComponent(`${this.$options.name}:${this._uid}`),this.send(".ws-dummy",["_cache","close",this.guid])}}),s=i(19),o=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v(e._s(e.mode)+": "+e._s(e.name))])]),e._v(" "),i("v-card-text",[i("v-container",{attrs:{fluid:""}},[i("v-layout",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(){return e.swipe("Left")},right:function(){return e.swipe("Right")},up:function(){return e.swipe("Up")},down:function(){return e.swipe("Down")}},expression:"{\n\t\t\t      left: () => swipe('Left'),\n\t\t\t      right: () => swipe('Right'),\n\t\t\t      up: () => swipe('Up'),\n\t\t\t      down: () => swipe('Down')\n\t\t\t    }"}],attrs:{column:""}},[Object.keys(e.actions).length>0?[i("h3",[e._v("Actions")]),e._v(" "),i("v-layout",{attrs:{row:""}},e._l(e.actions,(function(t,a){return i("v-tooltip",{key:a,scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-btn",e._g({attrs:{fab:"",dark:"",small:"",color:"purple darken-2"},on:{click:function(t){return e.do_action(a,e.item)}}},s),[i("v-icon",[e._v(e._s(t.icon))])],1)]}}],null,!0)},[e._v(" "),i("span",[e._v(e._s(t.tooltip))])])})),1)]:e._e(),e._v(" "),null!=e.item?i("v-form",{ref:"form",attrs:{"lazy-validation":!0},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e._l(e.formfields,(function(t){return[["char","varchar","composite"].indexOf(e.meta.columns[t].type)>=0?[i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"",counter:null!=e.meta.columns[t].size?e.meta.columns[t].size:1024,"prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:["text","xml"].indexOf(e.meta.columns[t].type)>=0?[i("v-textarea",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"",counter:null!=e.meta.columns[t].size?e.meta.columns[t].size:1024,"prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:["json"].indexOf(e.meta.columns[t].type)>=0?[e._v(e._s(JSON.stringify(e.item.__data__[t],null,4)))]:"many2one"==e.meta.columns[t].type?[i("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{row:""}},[i("v-text-field",{attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.m2o_cache(e.item,t)}},model:{value:e.item.__data__[t].name,callback:function(i){e.$set(e.item.__data__[t],"name",i)},expression:"item.__data__[field].name"}}),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(i){return e.on_detail_many2one(e.item,t)}}},[e._v("remove_red_eye")]),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(i){return e.on_edit_many2one(e.item,t)}}},[e._v("edit")]),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:e.readonly(e.item.__path__,t)},on:{click:function(i){return e.on_new_many2one(e.item,t)}}},[e._v("add")]),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(i){return e.on_find_many2one(e.item,t)}}},[e._v("search")])],1)]:"related"==e.meta.columns[t].type?[i("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{row:""}},[i("v-text-field",{attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.related_cache(e.item,t,e.meta.columns[t].relatedy)}},model:{value:e.item.__data__[t].name,callback:function(i){e.$set(e.item.__data__[t],"name",i)},expression:"item.__data__[field].name"}}),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(i){return e.on_detail_related(e.item,t)}}},[e._v("remove_red_eye")]),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:null==e.item.__data__[t].name||null==e.item.__data__[t].id},on:{click:function(i){return e.on_edit_related(e.item,t)}}},[e._v("edit")]),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary",disabled:e.readonly(e.item.__path__,t)},on:{click:function(i){return e.on_new_related(e.item,t)}}},[e._v("add")]),e._v(" "),i("v-icon",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(i){return e.on_find_related(e.item,t)}}},[e._v("search")])],1)]:"selection"==e.meta.columns[t].type?[i("v-autocomplete",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,disabled:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),items:e.selectionFrom[t],"prepend-icon":null!=e.meta.columns[t].compute?"functions":"","hide-details":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:"boolean"==e.meta.columns[t].type?[i("v-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,disabled:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),"prepend-icon":null!=e.meta.columns[t].compute?"functions":"","hide-details":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:"datetime"==e.meta.columns[t].type?[i("v-datetime-picker",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),locale:"ru-ru",format:"YYYY-MM-DD HH:mm:ss Z"},on:{input:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:"date"==e.meta.columns[t].type?[i("v-menu",{ref:t,refInFor:!0,attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.item.__data__[t],transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(i){return e.$set(e.item.__data__,t,i)},"update:return-value":function(i){return e.$set(e.item.__data__,t,i)}},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[i("v-text-field",e._g({directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,"prepend-icon":"event",readonly:""},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}},n))]}}],null,!0),model:{value:e.menu[t],callback:function(i){e.$set(e.menu,t,i)},expression:"menu[field]"}},[e._v(" "),i("v-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),locale:"ru-ru",color:"green lighten-1","no-title":"",scrollable:""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}}),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(i){e.menu[t]=!1}}},[e._v("Cancel")]),e._v(" "),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(i){return e.$refs[t][0].save(e.item.__data__[t])}}},[e._v("OK")])],1)]:"time"==e.meta.columns[t].type?[i("v-menu",{ref:t,refInFor:!0,attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.item.__data__[t],transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(i){return e.$set(e.item.__data__,t,i)},"update:return-value":function(i){return e.$set(e.item.__data__,t,i)}},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on;return[i("v-text-field",e._g({directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,"prepend-icon":"access_time",readonly:""},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}},n))]}}],null,!0),model:{value:e.menu[t],callback:function(i){e.$set(e.menu,t,i)},expression:"menu[field]"}},[e._v(" "),i("v-time-picker",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),"prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})],1)]:"timedelta"==e.meta.columns[t].type?[i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:"integer"==e.meta.columns[t].type||"float"==e.meta.columns[t].type||"double"==e.meta.columns[t].type||"real"==e.meta.columns[t].type||"decimal"==e.meta.columns[t].type?[i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:"numeric"==e.meta.columns[t].type?[i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),lazy:"",clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]:"binary"==e.meta.columns[t].type?[i("v-card",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}]},[i("v-card-title",[i("span",[e._v(e._s(e.meta.columns[t].label))])]),e._v(" "),i("v-responsive",[i("v-img",{staticClass:"preview",attrs:{src:e.item.__data__[t]?e.item.__data__[t]:"",width:"128px",height:"128px"}})],1),e._v(" "),i("v-card-actions",[i("div",{staticClass:"image-preview"},[i("input",{attrs:{type:"file",accept:e.meta.columns[t].accept,name:t,disabled:e.readonly(e.item.__path__,t)},on:{change:e.previewImage}}),e._v(" "),null!=e.item.__data__[t]&&e.item.__data__[t].length>0?i("v-icon",{on:{click:function(i){return e.clearImage(e.item,t)}}},[e._v(" clear")]):e._e()],1)])],1)]:"icon"==e.meta.columns[t].type?[i("v-card",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}]},[i("v-card-title",[i("span",[e._v(e._s(e.meta.columns[t].label))])]),e._v(" "),i("v-responsive",[i("v-img",{staticClass:"preview",attrs:{src:e.item.__data__[t]?e.item.__data__[t]:"",width:"75%",height:"75%"}})],1),e._v(" "),i("v-card-actions",[i("div",{staticClass:"image-preview"},[i("input",{attrs:{type:"file",accept:e.meta.columns[t].accept,name:t,disabled:e.readonly(e.item.__path__,t)},on:{change:e.previewImage}}),e._v(" "),null!=e.item.__data__[t]&&e.item.__data__[t].length>0?i("v-icon",{on:{click:function(i){return e.clearImage(e.item,t)}}},[e._v(" clear")]):e._e()],1)])],1)]:"many2many"==e.meta.columns[t].type?[i("gsrp5-m2mlist-view",{attrs:{metas:e.metas,meta:e.metas[e.meta.columns[t].obj].meta,model:e.item.__model__,view:e.metas[e.meta.columns[t].obj].views.m2mlist,items:e.item.__m2m_containers__[t],field:t,item_find:e.item.__data__[t],guid:e.guid,parent:e.item.__path__,container:t+"."+e.item.__path__,obj:e.meta.columns[t].obj,rel:e.meta.columns[t].rel,id1:e.item.__data__.id,root:e.root}})]:"referenced"==e.meta.columns[t].type?[["many2one","related"].indexOf(e.meta.columns[t].reftype)>=0?[e._v(e._s(e.item.__data__[t].name))]:"selection"==e.meta.columns[t].reftype?[e._v(e._s(e.selectionFromForm[t][e.item.__data__[t]]))]:"datetime"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatDatetime")(e.item.__data__[t])))]:"date"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatDate")(e.item.__data__[t])))]:"time"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatTime")(e.item.__data__[t])))]:"timedelta"==e.meta.columns[t].reftype?[e._v(e._s(e._f("formatTimedelta")(e.item.__data__[t])))]:("integer"==e.meta.columns[t].reftype||"float"==e.meta.columns[t].reftype||"double"==e.meta.columns[t].reftype||"real"==e.meta.columns[t].reftype||"decimal"==e.meta.columns[t].reftype||e.meta.columns[t].reftype,[e._v(e._s(e.item.__data__[t]))])]:[i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.visible(e.item.__path__,t),expression:"visible(item.__path__,field)"}],attrs:{rules:e.rules[t],label:e.meta.columns[t].label,readonly:e.readonly(e.item.__path__,t),required:e.required(e.item.__path__,t),clearable:"","prepend-icon":null!=e.meta.columns[t].compute?"functions":""},on:{change:function(i){return e.cache(e.item,t)}},model:{value:e.item.__data__[t],callback:function(i){e.$set(e.item.__data__,t,i)},expression:"item.__data__[field]"}})]]})),e._v(" "),e.o2mfields.length>0?[i("v-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[i("v-tabs-slider",{attrs:{color:"yellow"}}),e._v(" "),e._l(e.o2mfields,(function(t,a){return i("v-tab",{directives:[{name:"show",rawName:"v-show",value:e.visible(t),expression:"visible(o2mfield)"}],key:a,attrs:{href:"#tab-"+t}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.meta.columns[t].label)+"\n\t\t\t\t\t\t\t")])})),e._v(" "),i("v-tabs-items",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.o2mfields,(function(t,a){return i("v-tab-item",{key:a,attrs:{value:"tab-"+t}},[i("gsrp5-o2mtabs-component",{attrs:{metas:e.metas,meta:e.metas[e.meta.columns[t].obj].meta,model:e.meta.columns[t].obj,views:e.metas[e.meta.columns[t].obj].views,items:e.item.__o2m_containers__[t],rel:e.meta.columns[t].rel,mode:"readonly"==e.mode||e.readonly(t)?"readonly":e.mode,role:"role",o2mfield:t,root:e.root,guid:e.guid,container:t+"."+e.item.__path__,parent:e.item.__path__}})],1)})),1)],2)]:e._e()],2):e._e(),e._v(" "),i("v-pagination",{attrs:{circle:e.circle,disabled:e.disabled,length:e.length,"next-icon":e.nextIcon,"prev-icon":e.prevIcon,page:e.page,"total-visible":e.totalVisible},on:{input:e.on_input_pagination},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],2)],1)],1),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"error",text:"",disabled:"lookup"==e.mode},nativeOn:{click:function(t){return e.clear(t)}}},[e._v("Clear")]),e._v(" "),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:"copy"!=e.mode,expression:"mode != 'copy'"}],attrs:{disabled:"lookup"==e.mode||!e.valid,color:"blue darken-1",text:""},nativeOn:{click:function(t){return e.save(t)}}},[e._v("Save")]),e._v(" "),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:"copy"==e.mode,expression:"mode == 'copy'"}],attrs:{disabled:!e.valid,color:"blue darken-1",text:""},nativeOn:{click:function(t){return e.copy(t)}}},[e._v("Copy")]),e._v(" "),i("v-btn",{attrs:{disabled:"lookup"==e.mode,color:"success",text:""},nativeOn:{click:function(t){return e.validate(t)}}},[e._v("Validate")])],1)],1)}),[],!1,null,null,null);t.default=o.exports}}]);