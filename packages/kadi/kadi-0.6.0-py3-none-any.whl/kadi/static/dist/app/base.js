!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=207)}({0:function(t,e,i){"use strict";function n(t,e,i,n,a,o,s,r){var c,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=c):a&&(c=r?function(){a.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,e){return c.call(e),l(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}i.d(e,"a",(function(){return n}))},1:function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var a=(s=n,r=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(c," */")),o=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[i].concat(o).concat([a]).join("\n")}var s,r,c;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(a[s]=!0)}for(var r=0;r<t.length;r++){var c=[].concat(t[r]);n&&a[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},196:function(t,e,i){!function(e){var n=-1,a=function(t){return t.every=function(e,i,a){t._time(),a||(a=i,i=null);var o=n+=1;return t._timers[o]={visible:e,hidden:i,callback:a},t._run(o,!1),t.isSupported()&&t._listen(),o},t.stop=function(e){return!!t._timers[e]&&(t._stop(e),delete t._timers[e],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change((function(){t._stopRun(),t._wasHidden=t.hidden()})))},t._run=function(i,n){var a,o=t._timers[i];if(t.hidden()){if(null===o.hidden)return;a=o.hidden}else a=o.visible;var s=function(){o.last=new Date,o.callback.call(e)};if(n){var r=new Date-o.last;a>r?o.delay=setTimeout((function(){o.id=setInterval(s,a),s()}),a-r):(o.id=setInterval(s,a),s())}else o.id=setInterval(s,a)},t._stop=function(e){var i=t._timers[e];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},t._stopRun=function(e){var i=t.hidden(),n=t._wasHidden;if(i&&!n||!i&&n)for(var a in t._timers)t._stop(a),t._run(a,!i)},t};t.exports?t.exports=a(i(81)):a(e.Visibility||i(81))}(window)},197:function(t,e,i){"use strict";var n=i(37);i.n(n).a},198:function(t,e,i){(e=i(1)(!1)).push([t.i,".clear-btn[data-v-6952d950],.search-btn[data-v-6952d950]{background-color:#1a252f !important;transition:none}.custom-input[data-v-6952d950]{background-color:#1a252f;border:none;box-shadow:none;cursor:pointer;-webkit-appearance:none}.dropdown.show .custom-input[data-v-6952d950],.dropdown.show .clear-btn[data-v-6952d950],.dropdown.show .search-btn[data-v-6952d950]{background-color:white !important}.dropdown-item[data-v-6952d950]{white-space:normal;word-break:break-all}.font-sm[data-v-6952d950]{font-size:90%}.input-group-append-content[data-v-6952d950]{background-color:white;border:none;color:#aab7b8;padding-left:0.75rem !important;padding-right:0.75rem !important}.reponsive-width[data-v-6952d950]{width:200px}@media (min-width: 1200px){.reponsive-width[data-v-6952d950]{width:300px}}\n",""]),t.exports=e},2:function(t,e,i){"use strict";function n(t,e){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],s=o[0],r={id:t+":"+a,css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(r):i.push(n[s]={id:s,parts:[r]})}return i}i.r(e),i.d(e,"default",(function(){return f}));var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=a&&(document.head||document.getElementsByTagName("head")[0]),r=null,c=0,d=!1,l=function(){},u=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,i,a){d=i,u=a||{};var s=n(t,e);return h(s),function(e){for(var i=[],a=0;a<s.length;a++){var r=s[a];(c=o[r.id]).refs--,i.push(c)}e?h(s=n(t,e)):s=[];for(a=0;a<i.length;a++){var c;if(0===(c=i[a]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete o[c.id]}}}}function h(t){for(var e=0;e<t.length;e++){var i=t[e],n=o[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(m(i.parts[a]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(m(i.parts[a]));o[i.id]={id:i.id,refs:1,parts:s}}}}function v(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function m(t){var e,i,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(d)return l;n.parentNode.removeChild(n)}if(p){var a=c++;n=r||(r=v()),e=g.bind(null,n,a,!1),i=g.bind(null,n,a,!0)}else n=v(),e=y.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}var _,b=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function g(t,e,i,n){var a=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var o=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function y(t,e){var i=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),u.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),a&&(i+="\n/*# sourceURL="+a.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},207:function(t,e,i){"use strict";i.r(e);var n=i(90),a=i.n(n),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"dropdown",staticClass:"dropdown"},[i("div",{staticClass:"input-group input-group-sm reponsive-width",attrs:{"data-toggle":"dropdown"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"form-control custom-input",attrs:{placeholder:t.i18n.t("misc.quickSearch")},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),t.query?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-sm clear-btn input-group-append-content",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.clearQuery(e)}}},[i("i",{staticClass:"fas fa-times"})])]):i("div",{staticClass:"input-group-append"},[t._m(0)])]),t._v(" "),i("div",{staticClass:"dropdown-menu reponsive-width p-0"},[t.initialized?i("div",[0===t.items.length?i("div",{staticClass:"px-2 my-1"},[i("strong",{staticClass:"text-muted font-sm"},[t._v(t._s(t.i18n.t("misc.noResults")))])]):t._l(t.items,(function(e,n){return i("div",{key:e.endpoint},[i("a",{staticClass:"dropdown-item p-2",attrs:{href:e.endpoint}},[i("div",{staticClass:"d-flex justify-content-between"},[i("strong",{staticClass:"font-sm"},[t._v(t._s(e.identifier))]),t._v(" "),i("div",[i("span",{staticClass:"badge badge-light border border-muted font-weight-normal"},[t._v(t._s(e.type))])])]),t._v(" "),i("small",[t._v("\n            "+t._s(t.i18n.t("misc.lastModified"))+" "),i("from-now",{attrs:{timestamp:e.timestamp}})],1)]),t._v(" "),n<t.items.length-1?i("div",{staticClass:"dropdown-divider m-0"}):t._e()])}))],2):t._e(),t._v(" "),t.initialized?t._e():i("i",{staticClass:"fas fa-circle-notch fa-spin text-muted p-2"})])])};o._withStripped=!0;var s={data:()=>({query:"",items:[],timeoutHandle:null,initialized:!1}),props:{endpoint:String},methods:{clearQuery(){this.query="",this.$refs.input.focus()},search(){null!==this.timeoutHandle&&clearTimeout(this.timeoutHandle),this.timeoutHandle=setTimeout(()=>{axios.get(`${this.endpoint}?query=${this.query}`).then(t=>{this.items=t.data,this.initialized=!0})},500)}},watch:{query(){this.search()}},mounted(){$(this.$refs.dropdown).on("show.bs.dropdown",()=>this.search())}},r=(i(197),i(0)),c=Object(r.a)(s,o,[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"search-btn input-group-text input-group-append-content"},[e("i",{staticClass:"fas fa-sm fa-search"})])}],!1,null,"6952d950",null);c.options.__file="kadi/assets/scripts/lib/components/BaseNavSearch.vue";var d=c.exports,l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.active?i("div",{staticClass:"mb-4"},[i("div",{staticClass:"alert fade show",class:"alert-"+t.type},[t.icon?i("i",{staticClass:"fa",class:"fa-"+t.icon}):t._e(),t._v(" "+t._s(t.message)+"\n  ")])]):t._e()};l._withStripped=!0;var u={data:()=>({icon:null,active:!0}),props:{message:String,type:{type:String,default:"info"},timeout:{type:Number,default:5e3}},mounted(){"info"===this.type?this.icon="exclamation-circle":"danger"===this.type?this.icon="times-circle":"warning"===this.type?this.icon="exclamation-triangle":"success"===this.type&&(this.icon="check-circle"),null!==this.timeout&&setTimeout(()=>this.active=!1,this.timeout)}},p=Object(r.a)(u,l,[],!1,null,null,null);p.options.__file="kadi/assets/scripts/lib/components/NotificationAlert.vue";var f=p.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"notification",staticClass:"toast",staticStyle:{"min-width":"100%"},attrs:{"data-autohide":"false"}},[i("div",{staticClass:"toast-header bg-primary"},[i("span",{staticClass:"mr-auto"},[t._v(t._s(t.notification.data.title))]),t._v(" "),i("button",{staticClass:"ml-2 close text-white",attrs:{type:"button","data-dismiss":"toast"},on:{click:function(e){return t.dismiss(t.notification)}}},[i("i",{staticClass:"fas fa-xs fa-times"})])]),t._v(" "),i("div",{staticClass:"toast-body py-2"},[i("div",{domProps:{innerHTML:t._s(t.notification.data.body)}}),t._v(" "),i("div",{staticClass:"mt-1"},[i("small",{staticClass:"text-muted"},[i("from-now",{attrs:{timestamp:t.notification.created_at}})],1)])])])};h._withStripped=!0;var v={props:{notification:Object},methods:{dismiss(){axios.delete(this.notification._actions.dismiss).catch(t=>kadi.alert("Error dismissing notification.",{xhr:t.request}))}},mounted(){$(this.$refs.notification).toast("show")},beforeDestroy(){$(this.$refs.notification).toast("dispose")}},m=Object(r.a)(v,h,[],!1,null,null,null);m.options.__file="kadi/assets/scripts/lib/components/NotificationToast.vue";var _=m.exports;const b=()=>[].forEach.call(document.querySelectorAll(".kadi-logo"),t=>{t.style.animation="none"});[].forEach.call(document.querySelectorAll(".kadi-logo"),t=>{t.addEventListener("animationiteration",b),t.addEventListener("webkitAnimationIteration",b)}),document.addEventListener("invalid",t=>kadi.utils.scrollIntoView(t.target),!0);const g=new Vue({el:"#notification-alerts",components:{NotificationAlert:f},data:{alerts:[]},methods:{alert(t,e){let i=t;const n={xhr:null,type:"danger",timeout:5e3,scrollTo:!0,...e};if(null!==n.xhr){if(0===n.xhr.status)return;i=`${t} (${n.xhr.status})`}this.alerts.push({id:kadi.utils.randomAlnum(),message:i,type:n.type,timeout:n.timeout}),n.scrollTo&&kadi.utils.scrollIntoView(this.$el,"bottom")}}});if(kadi.alert=g.alert,kadi.js_resources.user_active){new Vue({el:"#base-nav-search",components:{BaseNavSearch:d}});const t=new Vue({el:"#notification-toasts",components:{NotificationToast:_},data:{notifications:[],title:null},methods:{getNotifications(t=!0){axios.get(kadi.js_resources.notifications_endpoint).then(e=>{this.notifications=e.data;const i=this.notifications.length;t&&i>0&&this.$nextTick(()=>kadi.utils.scrollIntoView(this.$el,"bottom")),document.title=i>0?`(${i}) ${this.title}`:this.title})}},mounted(){this.title=document.title,a.a.every(5e3,()=>{this.getNotifications(!1)}),this.getNotifications(!1)}});kadi.getNotifications=t.getNotifications}},37:function(t,e,i){var n=i(198);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(2).default)("24f15223",n,!1,{})},81:function(t,e,i){var n,a,o;n=this,a=-1,o={onVisible:function(t){var e=o.isSupported();if(!e||!o.hidden())return t(),e;var i=o.change((function(e,n){o.hidden()||(o.unbind(i),t())}));return i},change:function(t){if(!o.isSupported())return!1;var e=a+=1;return o._callbacks[e]=t,o._listen(),e},unbind:function(t){delete o._callbacks[t]},afterPrerendering:function(t){var e=o.isSupported();if(!e||"prerender"!=o.state())return t(),e;var i=o.change((function(e,n){"prerender"!=n&&(o.unbind(i),t())}));return i},hidden:function(){return!(!o._doc.hidden&&!o._doc.webkitHidden)},state:function(){return o._doc.visibilityState||o._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==o._doc.hidden||void 0!==o._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(t){var e=o.state();for(var i in o._callbacks)o._callbacks[i].call(o._doc,t,e)},_listen:function(){if(!o._init){var t="visibilitychange";o._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){o._change.apply(o,arguments)};o._doc.addEventListener?o._doc.addEventListener(t,e):o._doc.attachEvent(t,e),o._init=!0}}},t.exports?t.exports=o:n.Visibility=o},90:function(t,e,i){t.exports=i(196)}});
//# sourceMappingURL=base.js.map