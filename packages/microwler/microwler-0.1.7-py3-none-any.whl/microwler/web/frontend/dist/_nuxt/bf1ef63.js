(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{325:function(t,e,n){var content=n(348);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("7f923e50",content,!0,{sourceMap:!1})},326:function(t,e,n){var content=n(354);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("6c3e6124",content,!0,{sourceMap:!1})},327:function(t,e,n){"use strict";n.r(e);n(19),n(39);var o={name:"Project",components:{ResultDialog:n(329).default},props:{name:String},data:function(){return{loading:!1,showDialog:!1,results:null}},computed:{project:function(){return this.$store.getters.getProjectByName(this.name)},cacheInfo:function(){return this.project.cache?this.project.cache.length>0?this.project.cache.length+" pages":"empty":"connection error"}},methods:{crawl:function(){var t=this;this.loading=!0,this.$store.dispatch("runProject",this.name).then((function(){t.loading=!1,t.results=t.project.latestResults,t.showDialog=!0,t.loadProject()})).catch((function(e){t.loading=!1,alert(e)}))},loadProject:function(){var t=this;this.loading=!0,this.$store.dispatch("getProject",this.name).then((function(){return t.loading=!1})).catch((function(e){t.loading=!1,alert(e)}))},download:function(data,title){var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(data)),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","".concat(this.name,"-").concat(title,"-").concat((new Date).toISOString(),".json")),document.body.appendChild(e),e.click(),e.remove()},closeDialog:function(){this.results=null,this.showDialog=!1}},created:function(){this.loadProject()}},r=(n(347),n(68)),c=n(98),l=n.n(c),d=n(378),v=n(323),h=n(317),m=n(369),f=n(370),_=n(313),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mx-auto elevation-8",attrs:{"max-width":"360",loading:t.loading},on:{click:function(e){return t.$store.dispatch("updateChart",t.name)}}},[t.project?n("div",[n("iframe",{attrs:{src:t.project.startUrl,width:"360",height:"200"}}),t._v(" "),n("v-card-title",[t._v("\n    "+t._s(t.name)+"\n  ")]),t._v(" "),n("v-card-subtitle",[t.project?n("p",[t._v(t._s(t.project.startUrl))]):t._e(),t._v(" "),t.project.lastRun?n("p",[t.project.lastRun.hasOwnProperty("timestamp")?n("span",[t._v("\n          Last crawl at "+t._s(t.project.lastRun.timestamp)),n("br"),t._v(t._s(t.project.lastRun.state)+".\n        ")]):n("span",[t._v("No crawls recorded."),n("br"),n("br")])]):t._e(),t._v(" "),n("v-chip",{attrs:{color:"grey",dark:"",small:""}},[t._v("\n        Cache: "+t._s(t.cacheInfo)+"\n      ")])],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),t.loading?n("v-btn",{attrs:{text:"",disabled:""}},[t._v("\n      Running...\n    ")]):n("v-btn",{attrs:{text:""},on:{click:function(e){return t.crawl()}}},[t._v("\n      Run crawler\n    ")]),t._v(" "),t.project?n("v-btn",{attrs:{color:"secondary",text:"",disabled:!t.project.cache||0===t.project.cache.length},on:{click:function(e){return t.download(t.project.cache,"snapshot")}}},[t._v("\n      Download snapshot\n    ")]):t._e(),t._v(" "),n("v-spacer")],1),t._v(" "),t.showDialog?n("ResultDialog",{attrs:{"project-name":t.name,show:t.showDialog,results:t.results},on:{close:function(e){return t.closeDialog()}}}):t._e()],1):n("v-skeleton-loader",{attrs:{type:"card-avatar, article, actions","max-width":"344"}})],1)}),[],!1,null,"4e46e9fb",null);e.default=component.exports;l()(component,{ResultDialog:n(329).default}),l()(component,{VBtn:d.a,VCard:v.a,VCardActions:h.a,VCardSubtitle:h.b,VCardTitle:h.d,VChip:m.a,VSkeletonLoader:f.a,VSpacer:_.a})},328:function(t,e,n){"use strict";n.r(e);n(17),n(81);var o={props:{data:Object},computed:{values:function(){return console.log(this.$store.state.chartData),this.$store.state.chartData},elevation:function(){if(this.values)return this.values.length>1?10:0}}},r=(n(353),n(68)),c=n(98),l=n.n(c),d=n(323),v=n(317),h=n(371),m=n(146),f=n(64),_=n(313),w=n(377),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mt-4 mx-auto",attrs:{"max-width":"400"}},[n("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"primary",elevation:t.elevation,"max-width":"calc(100% - 32px)"}},[t.values&&t.values.length>1?n("v-sparkline",{attrs:{color:"white",value:t.values,"line-width":"2",padding:"16"}}):t._e(),t._v(" "),t.values&&t.values.length<2?n("small",{staticClass:"white--text"},[t._v("\n      Not enough data to show chart\n    ")]):n("small",{staticClass:"white--text"},[t._v("\n      Select a project to visualize its crawl history\n    ")])],1),t._v(" "),n("v-card-text",{staticClass:"pt-0"},[n("div",{staticClass:"title font-weight-light mb-2"},[t._v("\n      "+t._s(t.data.domain)+"\n    ")]),t._v(" "),n("div",{staticClass:"subheading font-weight-light grey--text"},[t._v("\n      Microwler v"+t._s(t.data.status.version)+"\n    ")]),t._v(" "),n("v-divider",{staticClass:"my-2"}),t._v(" "),n("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-clock")]),t._v(" "),n("span",{staticClass:"caption grey--text font-weight-light"},[t._v("up since "+t._s(t.data.status.up_since))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-database")]),t._v(" "),n("span",{staticClass:"caption grey--text font-weight-light"},[t._v("total cache size: "+t._s(t.$store.getters.getCacheSize)+" pages")])],1)],1)}),[],!1,null,"26e1037a",null);e.default=component.exports;l()(component,{VCard:d.a,VCardText:v.c,VDivider:h.a,VIcon:m.a,VSheet:f.a,VSpacer:_.a,VSparkline:w.a})},329:function(t,e,n){"use strict";n.r(e);n(19);var o=n(332),r={name:"ResultDialog",components:{VueJsonViewer:n.n(o).a},props:{projectName:String,results:Array,show:Boolean},methods:{download:function(data,title){var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(data)),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","".concat(this.projectName,"-").concat(title,"-").concat((new Date).toISOString(),".json")),document.body.appendChild(e),e.click(),e.remove(),this.$emit("close")}}},c=n(68),l=n(98),d=n.n(l),v=n(378),h=n(323),m=n(373),f=n(146),_=n(368),w=n(313),j=n(33),x=n(153),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("v-toolbar",{attrs:{outlined:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("close")}}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("v-toolbar-title",[t._v("Results")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{text:""},on:{click:function(e){return t.download(t.results,"crawl")}}},[t._v("Download")])],1)],1),t._v(" "),n("vue-json-viewer",{attrs:{value:t.results,"expand-depth":2,copyable:""}})],1)],1)],1)}),[],!1,null,"1b1a7b10",null);e.default=component.exports;d()(component,{VBtn:v.a,VCard:h.a,VDialog:m.a,VIcon:f.a,VRow:_.a,VSpacer:w.a,VToolbar:j.a,VToolbarItems:x.a,VToolbarTitle:x.b})},347:function(t,e,n){"use strict";n(325)},348:function(t,e,n){(e=n(12)(!1)).push([t.i,"iframe[data-v-4e46e9fb]{border:none;border-bottom:1px solid #d3d3d3}",""]),t.exports=e},353:function(t,e,n){"use strict";n(326)},354:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-sheet--offset[data-v-26e1037a]{top:-24px;position:relative}",""]),t.exports=e},374:function(t,e,n){"use strict";n.r(e);var o=n(327),r={components:{Host:n(328).default,Project:o.default},data:function(){return{input:null,connecting:!1}},computed:{host:function(){return this.$store.state.host}},methods:{connect:function(){var t=this;this.input&&(this.connecting=!0,this.$store.dispatch("connect",this.input).then((function(){t.input=null,t.connecting=!1})))}}},c=n(68),l=n(98),d=n.n(l),v=n(378),h=n(372),m=n(368),f=n(370),_=n(376),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticStyle:{"margin-bottom":"5vh"}},[n("v-col",{staticStyle:{"margin-top":"5vh"},attrs:{cols:"12",lg:"4",md:"6",sm:"12",align:"center"}},[n("div",[n("img",{attrs:{src:"logo.png",width:"250"}}),t._v(" "),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"12",lg:"12",sm:"12",align:"center"}},[n("v-text-field",{staticStyle:{width:"60%"},attrs:{placeholder:"Enter your service domain",loading:t.connecting},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",lg:"12",sm:"12",align:"center"}},[n("v-btn",{attrs:{primary:"",disabled:!t.input||t.connecting},on:{click:function(e){return t.connect()}}},[t._v("Connect")])],1),t._v(" "),n("v-col",{staticStyle:{margin:"5% 0"},attrs:{cols:"12",lg:"12"}},[t.host?n("Host",{attrs:{data:t.host}}):n("v-skeleton-loader")],1)],1)],1)]),t._v(" "),n("v-col",{staticStyle:{"margin-top":"5vh"},attrs:{cols:"12",lg:"8",md:"6",sm:"12"}},[n("v-row",[t.host?t._l(t.host.projects,(function(t,i){return n("v-col",{key:i,attrs:{cols:"12",lg:"6",sm:"12",justify:"space-around"}},[n("Project",{attrs:{name:t}})],1)})):n("v-col",{attrs:{cols:"12",lg:"6",sm:"12",justify:"space-around"}},[n("v-skeleton-loader")],1)],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{Host:n(328).default,Project:n(327).default}),d()(component,{VBtn:v.a,VCol:h.a,VRow:m.a,VSkeletonLoader:f.a,VTextField:_.a})}}]);