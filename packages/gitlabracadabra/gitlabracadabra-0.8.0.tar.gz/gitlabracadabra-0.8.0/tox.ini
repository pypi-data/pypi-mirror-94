[tox]
#envlist = py27, py34, py35, py36, pypy, jython
envlist = py3, pep8

[testenv]
deps = -rrequirements.txt
       -rtest-requirements.txt
commands =
    coverage run --source=gitlabracadabra/ setup.py test
    coverage report

[testenv:pep8]
deps =  flake8
        flake8-assertive
        flake8-bandit
        flake8-blind-except
        flake8-broken-line
        py{35,36}: flake8-bugbear
        flake8-builtins
        flake8-commas
        flake8-comprehensions
        flake8-debugger
        flake8-deprecated
#        flake8-docstrings
        flake8-logging-format
        flake8-import-order
        flake8-logging-format
        flake8-quotes
        flake8-rst-docstrings
        flake8-string-format
        flake8-tidy-imports
        flake8-tuple
        pep8-naming
        pycodestyle
        pylint
        wemake-python-styleguide
        # can be relaxed, once flake8-isort dependency is resolved (https://github.com/gforcada/flake8-isort/issues/88)
        isort<5
commands = flake8

[flake8]
format = wemake
max-line-length = 120
exclude = .git,.venv,.tox,dist,doc,*egg,build,
ignore =
    # B902 blind except Exception: statement
    B902
    # D100 Missing docstring in public module
    D100
    # D101 Missing docstring in public class
    D101
    # D102 Missing docstring in public method
    D102
    # D103 Missing docstring in public function
    D103
    # D104 Missing docstring in public package
    D104
    # D107 Missing docstring in __init__
    D107
    # D200 One-line docstring should fit on one line with quotes
    D200
    # D204 1 blank line required after class docstring
    D204
    # D400 First line should end with a period
    D400
    # E127 continuation line over-indented for visual indent
    E127
    # E800: Found commented out code
    E800
    # I001 isort found an import in the wrong position
    I001
    # I003 isort expected 1 blank line in imports, found 0
    I003
    # I004 isort found an unexpected blank line in imports
    I004
    # W504 line break after binary operator
    W504
    # Naming
    WPS1
    # Complexity
    WPS2
    # Consistency
    WPS3
    # Best practices
    WPS4
    # Refactoring
    WPS5
    # OOP
    WPS6
show-source = true
enable-extensions=G
application-import-names = gitlabracadabra
