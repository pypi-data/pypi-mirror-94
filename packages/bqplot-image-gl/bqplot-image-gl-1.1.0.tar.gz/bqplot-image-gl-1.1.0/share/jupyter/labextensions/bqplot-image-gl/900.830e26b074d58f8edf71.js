(self.webpackChunkbqplot_image_gl=self.webpackChunkbqplot_image_gl||[]).push([[900,65,242],{4065:(r,n,t)=>{"use strict";function e(r,n){return r<n?-1:r>n?1:r>=n?0:NaN}function o(r){var n;return 1===r.length&&(n=r,r=function(r,t){return e(n(r),t)}),{left:function(n,t,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var a=e+o>>>1;r(n[a],t)<0?e=a+1:o=a}return e},right:function(n,t,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var a=e+o>>>1;r(n[a],t)>0?o=a:e=a+1}return e}}}t.d(n,{j2:()=>e,b4:()=>f,Nw:()=>u,ml:()=>i,YF:()=>o,kC:()=>c,$1:()=>s,P3:()=>v,We:()=>w,KX:()=>k,Fp:()=>X,J6:()=>R,C2:()=>S,TS:()=>P,VV:()=>T,X:()=>h,FO:()=>W,VR:()=>C,w6:()=>E,Rp:()=>$,TV:()=>j,Sm:()=>D,o6:()=>L,FA:()=>V,_X:()=>_,G9:()=>z,ly:()=>x,sd:()=>F,p4:()=>G,CA:()=>d,$R:()=>K});var a=o(e),i=a.right,u=a.left;const f=i;function h(r,n){null==n&&(n=l);for(var t=0,e=r.length-1,o=r[0],a=new Array(e<0?0:e);t<e;)a[t]=n(o,o=r[++t]);return a}function l(r,n){return[r,n]}function c(r,n,t){var e,o,a,i,u=r.length,f=n.length,h=new Array(u*f);for(null==t&&(t=l),e=a=0;e<u;++e)for(i=r[e],o=0;o<f;++o,++a)h[a]=t(i,n[o]);return h}function s(r,n){return n<r?-1:n>r?1:n>=r?0:NaN}function g(r){return null===r?NaN:+r}function d(r,n){var t,e,o=r.length,a=0,i=-1,u=0,f=0;if(null==n)for(;++i<o;)isNaN(t=g(r[i]))||(f+=(e=t-u)*(t-(u+=e/++a)));else for(;++i<o;)isNaN(t=g(n(r[i],i,r)))||(f+=(e=t-u)*(t-(u+=e/++a)));if(a>1)return f/(a-1)}function v(r,n){var t=d(r,n);return t?Math.sqrt(t):t}function w(r,n){var t,e,o,a=r.length,i=-1;if(null==n){for(;++i<a;)if(null!=(t=r[i])&&t>=t)for(e=o=t;++i<a;)null!=(t=r[i])&&(e>t&&(e=t),o<t&&(o=t))}else for(;++i<a;)if(null!=(t=n(r[i],i,r))&&t>=t)for(e=o=t;++i<a;)null!=(t=n(r[i],i,r))&&(e>t&&(e=t),o<t&&(o=t));return[e,o]}var M=Array.prototype,y=M.slice,p=M.map;function A(r){return function(){return r}}function N(r){return r}function E(r,n,t){r=+r,n=+n,t=(o=arguments.length)<2?(n=r,r=0,1):o<3?1:+t;for(var e=-1,o=0|Math.max(0,Math.ceil((n-r)/t)),a=new Array(o);++e<o;)a[e]=r+e*t;return a}var m=Math.sqrt(50),b=Math.sqrt(10),q=Math.sqrt(2);function F(r,n,t){var e,o,a,i,u=-1;if(t=+t,(r=+r)==(n=+n)&&t>0)return[r];if((e=n<r)&&(o=r,r=n,n=o),0===(i=z(r,n,t))||!isFinite(i))return[];if(i>0)for(r=Math.ceil(r/i),n=Math.floor(n/i),a=new Array(o=Math.ceil(n-r+1));++u<o;)a[u]=(r+u)*i;else for(r=Math.floor(r*i),n=Math.ceil(n*i),a=new Array(o=Math.ceil(r-n+1));++u<o;)a[u]=(r-u)/i;return e&&a.reverse(),a}function z(r,n,t){var e=(n-r)/Math.max(0,t),o=Math.floor(Math.log(e)/Math.LN10),a=e/Math.pow(10,o);return o>=0?(a>=m?10:a>=b?5:a>=q?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=m?10:a>=b?5:a>=q?2:1)}function x(r,n,t){var e=Math.abs(n-r)/Math.max(0,t),o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),a=e/o;return a>=m?o*=10:a>=b?o*=5:a>=q&&(o*=2),n<r?-o:o}function _(r){return Math.ceil(Math.log(r.length)/Math.LN2)+1}function k(){var r=N,n=w,t=_;function e(e){var o,a,i=e.length,u=new Array(i);for(o=0;o<i;++o)u[o]=r(e[o],o,e);var h=n(u),l=h[0],c=h[1],s=t(u,l,c);Array.isArray(s)||(s=x(l,c,s),s=E(Math.ceil(l/s)*s,c,s));for(var g=s.length;s[0]<=l;)s.shift(),--g;for(;s[g-1]>c;)s.pop(),--g;var d,v=new Array(g+1);for(o=0;o<=g;++o)(d=v[o]=[]).x0=o>0?s[o-1]:l,d.x1=o<g?s[o]:c;for(o=0;o<i;++o)l<=(a=u[o])&&a<=c&&v[f(s,a,0,g)].push(e[o]);return v}return e.value=function(n){return arguments.length?(r="function"==typeof n?n:A(n),e):r},e.domain=function(r){return arguments.length?(n="function"==typeof r?r:A([r[0],r[1]]),e):n},e.thresholds=function(r){return arguments.length?(t="function"==typeof r?r:Array.isArray(r)?A(y.call(r)):A(r),e):t},e}function C(r,n,t){if(null==t&&(t=g),e=r.length){if((n=+n)<=0||e<2)return+t(r[0],0,r);if(n>=1)return+t(r[e-1],e-1,r);var e,o=(e-1)*n,a=Math.floor(o),i=+t(r[a],a,r);return i+(+t(r[a+1],a+1,r)-i)*(o-a)}}function L(r,n,t){return r=p.call(r,g).sort(e),Math.ceil((t-n)/(2*(C(r,.75)-C(r,.25))*Math.pow(r.length,-1/3)))}function V(r,n,t){return Math.ceil((t-n)/(3.5*v(r)*Math.pow(r.length,-1/3)))}function X(r,n){var t,e,o=r.length,a=-1;if(null==n){for(;++a<o;)if(null!=(t=r[a])&&t>=t)for(e=t;++a<o;)null!=(t=r[a])&&t>e&&(e=t)}else for(;++a<o;)if(null!=(t=n(r[a],a,r))&&t>=t)for(e=t;++a<o;)null!=(t=n(r[a],a,r))&&t>e&&(e=t);return e}function R(r,n){var t,e=r.length,o=e,a=-1,i=0;if(null==n)for(;++a<e;)isNaN(t=g(r[a]))?--o:i+=t;else for(;++a<e;)isNaN(t=g(n(r[a],a,r)))?--o:i+=t;if(o)return i/o}function S(r,n){var t,o=r.length,a=-1,i=[];if(null==n)for(;++a<o;)isNaN(t=g(r[a]))||i.push(t);else for(;++a<o;)isNaN(t=g(n(r[a],a,r)))||i.push(t);return C(i.sort(e),.5)}function P(r){for(var n,t,e,o=r.length,a=-1,i=0;++a<o;)i+=r[a].length;for(t=new Array(i);--o>=0;)for(n=(e=r[o]).length;--n>=0;)t[--i]=e[n];return t}function T(r,n){var t,e,o=r.length,a=-1;if(null==n){for(;++a<o;)if(null!=(t=r[a])&&t>=t)for(e=t;++a<o;)null!=(t=r[a])&&e>t&&(e=t)}else for(;++a<o;)if(null!=(t=n(r[a],a,r))&&t>=t)for(e=t;++a<o;)null!=(t=n(r[a],a,r))&&e>t&&(e=t);return e}function W(r,n){for(var t=n.length,e=new Array(t);t--;)e[t]=r[n[t]];return e}function $(r,n){if(t=r.length){var t,o,a=0,i=0,u=r[i];for(null==n&&(n=e);++a<t;)(n(o=r[a],u)<0||0!==n(u,u))&&(u=o,i=a);return 0===n(u,u)?i:void 0}}function j(r,n,t){for(var e,o,a=(null==t?r.length:t)-(n=null==n?0:+n);a;)o=Math.random()*a--|0,e=r[a+n],r[a+n]=r[o+n],r[o+n]=e;return r}function D(r,n){var t,e=r.length,o=-1,a=0;if(null==n)for(;++o<e;)(t=+r[o])&&(a+=t);else for(;++o<e;)(t=+n(r[o],o,r))&&(a+=t);return a}function G(r){if(!(o=r.length))return[];for(var n=-1,t=T(r,J),e=new Array(t);++n<t;)for(var o,a=-1,i=e[n]=new Array(o);++a<o;)i[a]=r[a][n];return e}function J(r){return r.length}function K(){return G(arguments)}},4900:(r,n,t)=>{"use strict";t.r(n),t.d(n,{contourDensity:()=>y,contours:()=>s});var e=t(4065),o=Array.prototype.slice;function a(r,n){return r-n}function i(r){return function(){return r}}function u(r,n){for(var t,e=-1,o=n.length;++e<o;)if(t=f(r,n[e]))return t;return 0}function f(r,n){for(var t=n[0],e=n[1],o=-1,a=0,i=r.length,u=i-1;a<i;u=a++){var f=r[a],l=f[0],c=f[1],s=r[u],g=s[0],d=s[1];if(h(f,s,n))return 0;c>e!=d>e&&t<(g-l)*(e-c)/(d-c)+l&&(o=-o)}return o}function h(r,n,t){var e,o,a,i;return function(r,n,t){return(n[0]-r[0])*(t[1]-r[1])==(t[0]-r[0])*(n[1]-r[1])}(r,n,t)&&(o=r[e=+(r[0]===n[0])],a=t[e],i=n[e],o<=a&&a<=i||i<=a&&a<=o)}function l(){}var c=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function s(){var r=1,n=1,t=e._X,f=d;function h(r){var n=t(r);if(Array.isArray(n))n=n.slice().sort(a);else{var o=(0,e.We)(r),i=o[0],u=o[1];n=(0,e.ly)(i,u,n),n=(0,e.w6)(Math.floor(i/n)*n,Math.floor(u/n)*n,n)}return n.map((function(n){return s(r,n)}))}function s(t,e){var o=[],a=[];return function(t,e,o){var a,i,u,f,h,l,s=new Array,d=new Array;for(a=i=-1,f=t[0]>=e,c[f<<1].forEach(v);++a<r-1;)u=f,f=t[a+1]>=e,c[u|f<<1].forEach(v);for(c[f<<0].forEach(v);++i<n-1;){for(a=-1,f=t[i*r+r]>=e,h=t[i*r]>=e,c[f<<1|h<<2].forEach(v);++a<r-1;)u=f,f=t[i*r+r+a+1]>=e,l=h,h=t[i*r+a+1]>=e,c[u|f<<1|h<<2|l<<3].forEach(v);c[f|h<<3].forEach(v)}for(a=-1,h=t[i*r]>=e,c[h<<2].forEach(v);++a<r-1;)l=h,h=t[i*r+a+1]>=e,c[h<<2|l<<3].forEach(v);function v(r){var n,t,e=[r[0][0]+a,r[0][1]+i],u=[r[1][0]+a,r[1][1]+i],f=g(e),h=g(u);(n=d[f])?(t=s[h])?(delete d[n.end],delete s[t.start],n===t?(n.ring.push(u),o(n.ring)):s[n.start]=d[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[n.end],n.ring.push(u),d[n.end=h]=n):(n=s[h])?(t=d[f])?(delete s[n.start],delete d[t.end],n===t?(n.ring.push(u),o(n.ring)):s[t.start]=d[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete s[n.start],n.ring.unshift(e),s[n.start=f]=n):s[f]=d[h]={start:f,end:h,ring:[e,u]}}c[h<<3].forEach(v)}(t,e,(function(r){f(r,t,e),function(r){for(var n=0,t=r.length,e=r[t-1][1]*r[0][0]-r[t-1][0]*r[0][1];++n<t;)e+=r[n-1][1]*r[n][0]-r[n-1][0]*r[n][1];return e}(r)>0?o.push([r]):a.push(r)})),a.forEach((function(r){for(var n,t=0,e=o.length;t<e;++t)if(-1!==u((n=o[t])[0],r))return void n.push(r)})),{type:"MultiPolygon",value:e,coordinates:o}}function g(n){return 2*n[0]+n[1]*(r+1)*4}function d(t,e,o){t.forEach((function(t){var a,i=t[0],u=t[1],f=0|i,h=0|u,l=e[h*r+f];i>0&&i<r&&f===i&&(a=e[h*r+f-1],t[0]=i+(o-a)/(l-a)-.5),u>0&&u<n&&h===u&&(a=e[(h-1)*r+f],t[1]=u+(o-a)/(l-a)-.5)}))}return h.contour=s,h.size=function(t){if(!arguments.length)return[r,n];var e=Math.ceil(t[0]),o=Math.ceil(t[1]);if(!(e>0&&o>0))throw new Error("invalid size");return r=e,n=o,h},h.thresholds=function(r){return arguments.length?(t="function"==typeof r?r:Array.isArray(r)?i(o.call(r)):i(r),h):t},h.smooth=function(r){return arguments.length?(f=r?d:l,h):f===d},h}function g(r,n,t){for(var e=r.width,o=r.height,a=1+(t<<1),i=0;i<o;++i)for(var u=0,f=0;u<e+t;++u)u<e&&(f+=r.data[u+i*e]),u>=t&&(u>=a&&(f-=r.data[u-a+i*e]),n.data[u-t+i*e]=f/Math.min(u+1,e-1+a-u,a))}function d(r,n,t){for(var e=r.width,o=r.height,a=1+(t<<1),i=0;i<e;++i)for(var u=0,f=0;u<o+t;++u)u<o&&(f+=r.data[i+u*e]),u>=t&&(u>=a&&(f-=r.data[i+(u-a)*e]),n.data[i+(u-t)*e]=f/Math.min(u+1,o-1+a-u,a))}function v(r){return r[0]}function w(r){return r[1]}function M(){return 1}function y(){var r=v,n=w,t=M,a=960,u=500,f=20,h=2,l=3*f,c=a+2*l>>h,y=u+2*l>>h,p=i(20);function A(o){var a=new Float32Array(c*y),i=new Float32Array(c*y);o.forEach((function(e,o,i){var u=+r(e,o,i)+l>>h,f=+n(e,o,i)+l>>h,s=+t(e,o,i);u>=0&&u<c&&f>=0&&f<y&&(a[u+f*c]+=s)})),g({width:c,height:y,data:a},{width:c,height:y,data:i},f>>h),d({width:c,height:y,data:i},{width:c,height:y,data:a},f>>h),g({width:c,height:y,data:a},{width:c,height:y,data:i},f>>h),d({width:c,height:y,data:i},{width:c,height:y,data:a},f>>h),g({width:c,height:y,data:a},{width:c,height:y,data:i},f>>h),d({width:c,height:y,data:i},{width:c,height:y,data:a},f>>h);var u=p(a);if(!Array.isArray(u)){var v=(0,e.Fp)(a);u=(0,e.ly)(0,v,u),(u=(0,e.w6)(0,Math.floor(v/u)*u,u)).shift()}return s().thresholds(u).size([c,y])(a).map(N)}function N(r){return r.value*=Math.pow(2,-2*h),r.coordinates.forEach(E),r}function E(r){r.forEach(m)}function m(r){r.forEach(b)}function b(r){r[0]=r[0]*Math.pow(2,h)-l,r[1]=r[1]*Math.pow(2,h)-l}function q(){return c=a+2*(l=3*f)>>h,y=u+2*l>>h,A}return A.x=function(n){return arguments.length?(r="function"==typeof n?n:i(+n),A):r},A.y=function(r){return arguments.length?(n="function"==typeof r?r:i(+r),A):n},A.weight=function(r){return arguments.length?(t="function"==typeof r?r:i(+r),A):t},A.size=function(r){if(!arguments.length)return[a,u];var n=Math.ceil(r[0]),t=Math.ceil(r[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return a=n,u=t,q()},A.cellSize=function(r){if(!arguments.length)return 1<<h;if(!((r=+r)>=1))throw new Error("invalid cell size");return h=Math.floor(Math.log(r)/Math.LN2),q()},A.thresholds=function(r){return arguments.length?(p="function"==typeof r?r:Array.isArray(r)?i(o.call(r)):i(r),A):p},A.bandwidth=function(r){if(!arguments.length)return Math.sqrt(f*(f+1));if(!((r=+r)>=0))throw new Error("invalid bandwidth");return f=Math.round((Math.sqrt(4*r*r+1)-1)/2),q()},A}}}]);